{"version":3,"sources":["./src/environments/environment.ts","./node_modules/moment/locale sync ^\\.\\/.*$","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./projects/ezy-chart/src/lib/color.helpers.ts","./projects/ezy-chart/src/lib/utils.ts","./projects/ezy-chart/src/lib/base.chart.ts","./projects/ezy-chart/src/lib/chart.component.ts","./projects/ezy-chart/src/lib/echart.component.ts","./projects/ezy-chart/src/lib/charts.module.ts","./projects/ezy-chart/src/public-api.ts","./projects/ezy-chart/src/ezy-chart.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":["moment.locale","i0.ɵɵelement"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;ACfnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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CAAC;IACd,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACf,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC;IACb,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACf,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC;IACb,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACf,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACf,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC;IACb,CAAC,GAAG,EAAE,EAAE,EAAE,GAAG,CAAC;IACd,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC;IACd,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;IACd,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACf,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACf,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC;IACb,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC;IACd,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;IACd,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACf,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;IACZ,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC;IACb,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC;IACb,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;IACd,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC;IACb,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;IACd,CAAC,GAAG,EAAE,EAAE,EAAE,GAAG,CAAC;IACd,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC;IACd,CAAC,GAAG,EAAE,EAAE,EAAE,GAAG,CAAC;IACd,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;IACd,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACf,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC;IACb,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACf,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,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","file":"main-es2015.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import { Component } from '@angular/core';\r\nimport moment from 'moment';\r\n\r\n@Component({\r\n\tselector: 'ezy-chart-app-root',\r\n\ttemplateUrl: './app.component.html',\r\n\tstyleUrls: ['./app.component.scss'],\r\n})\r\nexport class AppComponent {\r\n\tdatasets: Chart.ChartDataSets[] = [{ data: [12, 19, 3, 5, 2, 3], label: 'series 1' }];\r\n\tlabels: string[] = ['sample 1', 'sample 2', 'sample 3', 'sample 4', 'sample 5', 'sample 6'];\r\n\ttype = 'bar';\r\n\tcolorsFor = 'auto';\r\n\ttimeScale = false;\r\n\tcurrencyMode = false;\r\n\tshowPercentage: string | boolean = false;\r\n\tengine = 'chartjs';\r\n\r\n\taddData() {\r\n\t\tthis.labels.push(`sample ${this.labels.length + 1}`);\r\n\t\tthis.datasets.forEach((ds) => {\r\n\t\t\tconst data = (ds.data as number[]) || [];\r\n\t\t\tdata.push(this._getRandomDataItem(data.length) as number);\r\n\t\t});\r\n\t}\r\n\r\n\taddSeries() {\r\n\t\tif (this.datasets.length) {\r\n\t\t\tconst data = new Array((this.datasets[0].data || []).length);\r\n\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\tdata[i] = this._getRandomDataItem(i);\r\n\t\t\t}\r\n\r\n\t\t\tconst ds: Chart.ChartDataSets = { data, label: `series ${this.datasets.length + 1}` };\r\n\t\t\tif (this.type === 'line' && this.engine === 'chartjs') {\r\n\t\t\t\tthis._configLineSpecificProperties(ds);\r\n\t\t\t}\r\n\t\t\tthis.datasets.push(ds);\r\n\t\t}\r\n\t}\r\n\r\n\tremoveData() {\r\n\t\tif (this.labels.length > 1) {\r\n\t\t\tthis.labels.pop();\r\n\t\t\tthis.datasets\r\n\t\t\t\t.map((ds) => ds.data as number[])\r\n\t\t\t\t.filter((d) => d.length > 1)\r\n\t\t\t\t.forEach((d) => d.pop());\r\n\t\t}\r\n\t}\r\n\r\n\tremoveSeries() {\r\n\t\tif (this.datasets.length > 1) {\r\n\t\t\tthis.datasets.pop();\r\n\t\t}\r\n\t}\r\n\r\n\tchartTypeChanged() {\r\n\t\tthis.colorsFor = 'auto';\r\n\t\tthis.timeScale = false;\r\n\t\tthis.scaleChanged();\r\n\t\tif (this.type === 'line' && this.engine === 'chartjs') {\r\n\t\t\tthis.datasets.forEach((ds) => this._configLineSpecificProperties(ds));\r\n\t\t} else {\r\n\t\t\tthis.datasets = this.datasets.map((ds) => ({ data: ds.data, label: ds.label }));\r\n\t\t}\r\n\t}\r\n\r\n\tscaleChanged() {\r\n\t\tlet dataPoints = 0;\r\n\t\tthis.datasets.forEach((ds) => {\r\n\t\t\tconst data = (ds.data as Array<number | Chart.ChartPoint>) || [];\r\n\t\t\tdataPoints = Math.max(dataPoints, data.length);\r\n\t\t\tdata.forEach((d, i) => {\r\n\t\t\t\tif (typeof d === 'number' && this.timeScale) {\r\n\t\t\t\t\tdata[i] = { y: d, x: moment().add(-i, 'year') as any };\r\n\t\t\t\t} else if (!this.timeScale && typeof d !== 'number') {\r\n\t\t\t\t\tdata[i] = d.y as number;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.labels = [];\r\n\r\n\t\tif (!this.timeScale) {\r\n\t\t\tfor (let i = 0; i < dataPoints; i++) {\r\n\t\t\t\tthis.labels.push(`sample ${this.labels.length + 1}`);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget sampleTemplate(): string {\r\n\t\tconst chartTag: string = this.engine === 'chartjs' ? 'ezy-chart' : 'ezy-echart';\r\n\t\tlet templ = `<${chartTag} type=\"${this.type}\" [datasets]=\"datasets\"`;\r\n\t\tif (this.labels && this.labels.length) {\r\n\t\t\ttempl += ' [labels]=\"labels\"';\r\n\t\t}\r\n\t\tif (this.colorsFor !== 'auto') {\r\n\t\t\ttempl += ` colorsFor=\"${this.colorsFor}\"`;\r\n\t\t}\r\n\t\tif (this.currencyMode) {\r\n\t\t\ttempl += ' currency=\"USD\"';\r\n\t\t}\r\n\t\tif (this.showPercentage === 'only') {\r\n\t\t\ttempl += ' percentage=\"only\"';\r\n\t\t} else if (this.showPercentage) {\r\n\t\t\ttempl += ' [percentage]=\"true\"';\r\n\t\t}\r\n\t\ttempl += `></${chartTag}>`;\r\n\t\treturn templ;\r\n\t}\r\n\r\n\tprivate _configLineSpecificProperties(ds: Chart.ChartDataSets) {\r\n\t\tds.fill = false;\r\n\t\tds.pointRadius = 8;\r\n\t\tds.pointHoverRadius = 10;\r\n\t\tds.lineTension = 0.1;\r\n\t}\r\n\r\n\tprivate _getRandomDataItem(dsIndex: number): number | Chart.ChartPoint {\r\n\t\tconst n = Number((Math.random() * 20).toFixed(1));\r\n\r\n\t\tif (this.timeScale) {\r\n\t\t\treturn { y: n, x: moment().add(-dsIndex, 'year') as any };\r\n\t\t} else {\r\n\t\t\treturn n;\r\n\t\t}\r\n\t}\r\n}\r\n","<label class=\"col-form-label\">Engine</label>\r\n<div>\r\n\t<div class=\"form-check form-check-inline\">\r\n\t\t<label class=\"form-check-label\">\r\n\t\t\t<input class=\"form-control\" type=\"radio\" name=\"engine\" value=\"chartjs\" [(ngModel)]=\"engine\" /> Chart.js\r\n\t\t</label>\r\n\t</div>\r\n\t<div class=\"form-check form-check-inline\">\r\n\t\t<label class=\"form-check-label\">\r\n\t\t\t<input class=\"form-control\" type=\"radio\" name=\"engine\" value=\"echarts\" [(ngModel)]=\"engine\" /> EChart\r\n\t\t</label>\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n\t<div class=\"col-lg-6\">\r\n\t\t<div [ngSwitch]=\"engine\">\r\n\t\t\t<div *ngSwitchCase=\"'chartjs'\">\r\n\t\t\t\t<ezy-chart [datasets]=\"datasets\" [labels]=\"labels\" [type]=\"type\" [colorsFor]=\"colorsFor\" [currency]=\"currencyMode ? 'USD' : undefined\"\r\n\t\t\t\t [percentage]=\"showPercentage\"></ezy-chart>\r\n\r\n\t\t\t</div>\r\n\t\t\t<div *ngSwitchDefault>\r\n\t\t\t\t<ezy-echart [datasets]=\"datasets\" [labels]=\"labels\" [type]=\"type\" [colorsFor]=\"colorsFor\" [currency]=\"currencyMode ? 'USD' : undefined\"\r\n\t\t\t\t [percentage]=\"showPercentage\"></ezy-echart>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"row align-items-center\">\r\n\t\t\t<div class=\"form-group col-lg-6\">\r\n\t\t\t\t<label class=\"col-form-label\" for=\"chartType\">Chart type</label>\r\n\t\t\t\t<select [(ngModel)]=\"type\" class=\"form-control\" id=\"chartType\" (change)=\"chartTypeChanged()\">\r\n\t\t\t\t\t<option [value]=\"'bar'\">Bar</option>\r\n\t\t\t\t\t<option [value]=\"'horizontalBar'\">Horizontal Bar</option>\r\n\t\t\t\t\t<option [value]=\"'line'\">Line</option>\r\n\t\t\t\t\t<option [value]=\"'pie'\">Pie</option>\r\n\t\t\t\t\t<option [value]=\"'doughnut'\">Doughnut</option>\r\n\t\t\t\t\t<option [value]=\"'polarArea'\">Polar Area</option>\r\n\t\t\t\t\t<option [value]=\"'radar'\">Radar</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"col-lg-6\">\r\n\t\t\t\t<label class=\"col-form-label\">Colors for</label>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\r\n\t\t\t\t\t\t<label class=\"form-check-label\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"radio\" name=\"colorsFor\" value=\"auto\" [(ngModel)]=\"colorsFor\" /> Auto\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\r\n\t\t\t\t\t\t<label class=\"form-check-label\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"radio\" name=\"colorsFor\" value=\"series\" [(ngModel)]=\"colorsFor\" /> Series\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\r\n\t\t\t\t\t\t<label class=\"form-check-label\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"radio\" name=\"colorsFor\" value=\"data\" [(ngModel)]=\"colorsFor\" /> Data\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\r\n\t\t\t\t\t\t<label class=\"form-check-label\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"radio\" name=\"colorsFor\" value=\"none\" [(ngModel)]=\"colorsFor\" /> None\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"form-check col-lg-3\">\r\n\t\t\t\t<label class=\"form-check-label d-flex align-items-center\">\r\n\t\t\t\t\t<input class=\"form-check-input mt-0\" type=\"checkbox\" [(ngModel)]=\"timeScale\" (change)=\"scaleChanged()\" [disabled]=\"type !== 'line'\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span>Time scale</span>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-check col-lg-3\">\r\n\t\t\t\t<label class=\"form-check-label d-flex align-items-center\">\r\n\t\t\t\t\t<input class=\"form-check-input mt-0\" type=\"checkbox\" [(ngModel)]=\"currencyMode\" />\r\n\t\t\t\t\t<span>Currency mode</span>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-check col-lg-6\">\r\n\t\t\t\t<label class=\"col-form-label\">Show percentage</label>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\r\n\t\t\t\t\t\t<label class=\"form-check-label\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"radio\" name=\"showPercentage\" [value]=\"false\" [(ngModel)]=\"showPercentage\" /> False\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\r\n\t\t\t\t\t\t<label class=\"form-check-label\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"radio\" name=\"showPercentage\" [value]=\"true\" [(ngModel)]=\"showPercentage\" /> True\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\r\n\t\t\t\t\t\t<label class=\"form-check-label\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"radio\" name=\"showPercentage\" value=\"only\" [(ngModel)]=\"showPercentage\" /> Only\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<button (click)=\"addData()\" class=\"btn btn-default mb-1\">Add data point</button>\r\n\t\t<button (click)=\"removeData()\" class=\"btn btn-default mb-1\">Remove data point</button>\r\n\t\t<button (click)=\"addSeries()\" class=\"btn btn-default mb-1\">Add data series</button>\r\n\t\t<button (click)=\"removeSeries()\" class=\"btn btn-default mb-1\">Remove data series</button>\r\n\t</div>\r\n\t<div class=\"col-lg-6\">\r\n\t\t<div class=\"form-group\">\r\n\t\t\t<label class=\"col-form-label\">Datasets</label>\r\n\t\t\t<pre class=\"form-control pre-scrollable\"><code>{{datasets | json}}</code></pre>\r\n\t\t</div>\r\n\t\t<div class=\"form-group\">\r\n\t\t\t<label class=\"col-form-label\">Labels</label>\r\n\t\t\t<pre class=\"form-control pre-scrollable\"><code>{{labels | json}}</code></pre>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"col\">\r\n\t\t<div class=\"form-group\">\r\n\t\t\t<label class=\"col-form-label\">Template code</label>\r\n\t\t\t<pre class=\"form-control pre-scrollable\"><code>{{sampleTemplate}}</code></pre>\r\n\t\t</div>\r\n\r\n\t</div>\r\n</div>","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { ChartsModule } from 'ezy-chart';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n\tdeclarations: [AppComponent],\r\n\timports: [BrowserModule, CommonModule, FormsModule, ChartsModule],\r\n\tproviders: [],\r\n\tbootstrap: [AppComponent]\r\n})\r\nexport class AppModule {}\r\n","/**\r\n * @internal\r\n */\r\nconst DEFAULT_COLORS = [\r\n\t[236, 64, 122],\r\n\t[92, 107, 192],\r\n\t[38, 198, 218],\r\n\t[255, 238, 88],\r\n\t[156, 204, 101],\r\n\t[0, 102, 204],\r\n\t[102, 153, 204],\r\n\t[102, 0, 204],\r\n\t[204, 102, 204],\r\n\t[204, 255, 204],\r\n\t[255, 0, 102],\r\n\t[255, 99, 132],\r\n\t[54, 162, 235],\r\n\t[255, 206, 86],\r\n\t[151, 187, 205],\r\n\t[220, 220, 220],\r\n\t[247, 70, 74],\r\n\t[70, 191, 189],\r\n\t[253, 180, 92],\r\n\t[148, 159, 177],\r\n\t[77, 83, 96],\r\n\t[230, 25, 75],\r\n\t[60, 180, 75],\r\n\t[255, 225, 25],\r\n\t[0, 130, 200],\r\n\t[245, 130, 48],\r\n\t[145, 30, 180],\r\n\t[70, 240, 240],\r\n\t[240, 50, 230],\r\n\t[210, 245, 60],\r\n\t[250, 190, 190],\r\n\t[0, 128, 128],\r\n\t[230, 190, 255],\r\n\t[170, 110, 40],\r\n\t[255, 250, 200],\r\n\t[128, 0, 0],\r\n\t[170, 255, 195],\r\n\t[128, 128, 0],\r\n\t[255, 215, 180],\r\n\t[0, 0, 128],\r\n\t[128, 128, 128],\r\n];\r\n\r\n/**\r\n * @internal\r\n */\r\nexport interface ColorGroup {\r\n\tbackgroundColor?: Chart.ChartColor;\r\n\tborderColor?: Chart.ChartColor;\r\n\r\n\tpointBackgroundColor?: Chart.ChartColor;\r\n\tpointBorderColor?: Chart.ChartColor;\r\n\tpointHoverBackgroundColor?: Chart.ChartColor;\r\n\tpointHoverBorderColor?: Chart.ChartColor;\r\n\thoverBackgroundColor?: Chart.ChartColor;\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function replaceDefaultColors(colors: number[][]) {\r\n\t(colors || []).forEach((a, i) => (DEFAULT_COLORS[i] = a));\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction generateColors(definedColors: string[], totalNum: number): number[][] {\r\n\tlet defaultIdx = 0;\r\n\tconst colors: number[][] = [];\r\n\tif (definedColors.length < totalNum) {\r\n\t\tdefinedColors = [...definedColors, ...new Array<string>(totalNum - definedColors.length)];\r\n\t}\r\n\tdefinedColors.forEach((val) => {\r\n\t\tlet col = parseColor(val);\r\n\t\tif (!col) {\r\n\t\t\tcol = DEFAULT_COLORS[defaultIdx++] || getRandomColor();\r\n\t\t}\r\n\t\tcolors.push(col);\r\n\t});\r\n\treturn colors;\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction parseColor(input: string): number[] | undefined {\r\n\tif (!input) {\r\n\t\treturn undefined;\r\n\t}\r\n\tlet m = input.match(/^#([0-9a-f]{6})$/i);\r\n\tif (m) {\r\n\t\treturn [parseInt(m[1].substr(0, 2), 16), parseInt(m[1].substr(2, 2), 16), parseInt(m[1].substr(4, 2), 16)];\r\n\t} else {\r\n\t\tm = input.match(/^#([0-9a-f]{3})$/i);\r\n\t\tif (m) {\r\n\t\t\treturn [\r\n\t\t\t\tparseInt(m[1].charAt(0), 16) * 0x11,\r\n\t\t\t\tparseInt(m[1].charAt(1), 16) * 0x11,\r\n\t\t\t\tparseInt(m[1].charAt(2), 16) * 0x11,\r\n\t\t\t];\r\n\t\t} else {\r\n\t\t\tm = input.match(/^rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/i);\r\n\t\t\tif (m) {\r\n\t\t\t\treturn [parseInt(m[1], 10), parseInt(m[2], 10), parseInt(m[3], 10)];\r\n\t\t\t} else {\r\n\t\t\t\tconsole.error('Color ' + input + ' could not be parsed.');\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function generateColorsAsStrings(definedColors: string[], totalNum: number): string[] {\r\n\treturn generateColors(definedColors, totalNum).map((c) => `rgba(${c[0]}, ${c[1]}, ${c[2]}, 0.8)`);\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction rgba(colour: number[], alpha: number): string {\r\n\treturn 'rgba(' + colour.concat(alpha).join(',') + ')';\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction getRandomInt(min: number, max: number): number {\r\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction getRandomColor() {\r\n\treturn [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction formatChartColorsForSeries(colors: number[][], type: string): ColorGroup[] {\r\n\treturn colors.map((color) => ({\r\n\t\thoverBackgroundColor: rgba(color, 0.6),\r\n\t\tbackgroundColor: rgba(color, 1),\r\n\t\tborderColor: type === 'line' ? rgba(color, 0.6) : 'rgba(255, 255, 255, 0.3)',\r\n\t\tpointBackgroundColor: rgba(color, 0.6),\r\n\t\tpointBorderColor: '#fff',\r\n\t\tpointHoverBackgroundColor: rgba(color, 1),\r\n\t\tpointHoverBorderColor: rgba(color, 0.8),\r\n\t}));\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function generateColorsBySeries(definedColors: string[], totalNum: number, type: string): ColorGroup[] {\r\n\treturn formatChartColorsForSeries(generateColors(definedColors || [], totalNum), type);\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction formatChartColorsForData(colors: number[][], type: string): ColorGroup {\r\n\treturn {\r\n\t\thoverBackgroundColor: colors.map((color) => rgba(color, 0.6)),\r\n\t\tbackgroundColor: colors.map((color) => rgba(color, 1)),\r\n\t\tborderColor: colors.map((color) => (type === 'line' ? rgba(color, 0.6) : 'rgba(255, 255, 255, 0.3)')),\r\n\t\tpointBackgroundColor: colors.map((color) => rgba(color, 1)),\r\n\t\tpointBorderColor: colors.map((color) => '#fff'),\r\n\t\tpointHoverBackgroundColor: colors.map((color) => rgba(color, 1)),\r\n\t\tpointHoverBorderColor: colors.map((color) => rgba(color, 0.8)),\r\n\t};\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function generateColorsByDataPoints(definedColors: string[], totalNum: number, type: string): ColorGroup {\r\n\treturn formatChartColorsForData(generateColors(definedColors || [], totalNum), type);\r\n}\r\n","/**\r\n * @internal\r\n */\r\nexport function cloneDeep(item: any) {\r\n\tif (!item) {\r\n\t\treturn item;\r\n\t} // null, undefined values check\r\n\r\n\tconst types: any[] = [Number, String, Boolean];\r\n\tlet result: any;\r\n\r\n\t// normalizing primitives if someone did new String('aaa'), or new Number('444');\r\n\ttypes.forEach((type) => {\r\n\t\tif (item instanceof type) {\r\n\t\t\tresult = type(item);\r\n\t\t}\r\n\t});\r\n\r\n\tif (typeof result === 'undefined') {\r\n\t\tif (Object.prototype.toString.call(item) === '[object Array]') {\r\n\t\t\tresult = [];\r\n\t\t\titem.forEach((child, index, array) => {\r\n\t\t\t\tresult[index] = cloneDeep(child);\r\n\t\t\t});\r\n\t\t} else if (typeof item === 'object') {\r\n\t\t\t// testing that this is DOM\r\n\t\t\tif (item.nodeType && typeof item.cloneNode === 'function') {\r\n\t\t\t\tresult = item.cloneNode(true);\r\n\t\t\t} else if (!item.prototype) {\r\n\t\t\t\t// check that this is a literal\r\n\t\t\t\tif (item instanceof Date) {\r\n\t\t\t\t\tresult = new Date(item);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// it is an object literal\r\n\t\t\t\t\tresult = {};\r\n\t\t\t\t\tfor (const i in item) {\r\n\t\t\t\t\t\tif (item[i]) {\r\n\t\t\t\t\t\t\tresult[i] = cloneDeep(item[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// depending what you would like here,\r\n\t\t\t\t// just keep the reference, or create new object\r\n\t\t\t\tif (false && item.constructor) {\r\n\t\t\t\t\t// would not advice to do that, reason? Read below\r\n\t\t\t\t\tresult = new item.constructor();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = item;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tresult = item;\r\n\t\t}\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function isEqual(v1: any, v2: any): boolean {\r\n\tif (v1 === v2) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tif (v1) {\r\n\t\tif (!v2) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn JSON.stringify(v1) === JSON.stringify(v2);\r\n\t} else {\r\n\t\treturn !v2;\r\n\t}\r\n}\r\n","import { Input, NgZone, OnDestroy, DoCheck, Directive } from '@angular/core';\r\nimport { Subscription, fromEvent } from 'rxjs';\r\nimport { CurrencyPipe } from '@angular/common';\r\nimport * as moment from 'moment';\r\nimport { cloneDeep, isEqual } from './utils';\r\n\r\nexport type ColorsForType = 'auto' | 'series' | 'data' | 'none';\r\n\r\nexport type LegendType = Chart.ChartLegendOptions | 'auto' | boolean | Chart.PositionType;\r\n\r\nexport type ShowPercentageType = boolean | 'only';\r\n\r\n/**\r\n * @internal\r\n */\r\nexport interface ChartParameters {\r\n\ttype?: string;\r\n\tlabels?: string[];\r\n\tdatasets?: Chart.ChartDataSets[];\r\n\tcolors?: string[];\r\n\tcolorsFor?: ColorsForType;\r\n\tratio?: number;\r\n\tlegend?: LegendType;\r\n\toptions?: Chart.ChartOptions;\r\n\tcurrency?: string;\r\n\ttimeFormat?: string;\r\n\tpercentage?: ShowPercentageType;\r\n\tdigits?: string;\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function formatScale(val: any, currency: string) {\r\n\tlet n = Number(val);\r\n\tif (n === 0) {\r\n\t\treturn '0';\r\n\t}\r\n\tlet base = '';\r\n\tif (n >= 1000) {\r\n\t\tn = n / 1000;\r\n\t\tbase = 'K';\r\n\t}\r\n\tif (n >= 1000) {\r\n\t\tn = n / 1000;\r\n\t\tbase = 'M';\r\n\t}\r\n\treturn (formatMoney(n, currency, undefined) || '').replace(/\\.0+?$/, '') + base;\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function formatMoney(val: any, currency: string, digitInfo?: string) {\r\n\tif (val && currency) {\r\n\t\tconst pipe = new CurrencyPipe(moment.locale());\r\n\t\treturn pipe.transform(val, currency, 'symbol-narrow', digitInfo);\r\n\t}\r\n}\r\n\r\n@Directive()\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport abstract class BaseChart implements OnDestroy, DoCheck {\r\n\tprivate _params: ChartParameters = {};\r\n\tprivate _prevParams: ChartParameters = {};\r\n\r\n\tprivate _debounceTimer: any;\r\n\tprivate _wndEvSubs: Subscription;\r\n\tprivate _resized: boolean;\r\n\r\n\t/**\r\n\t * An array of strings, corresponding to Chart.ChartConfiguration.data.labels\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset labels(l: string[] | undefined) {\r\n\t\tthis._params.labels = l;\r\n\t}\r\n\r\n\tget labels(): string[] | undefined {\r\n\t\treturn this._params.labels;\r\n\t}\r\n\r\n\t/**\r\n\t * The chart type, corresponding to Chart.ChartConfiguration.type\r\n\t * @default 'bar'\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset type(t: string | undefined) {\r\n\t\tthis._params.type = t;\r\n\t}\r\n\r\n\tget type(): string | undefined {\r\n\t\treturn this._params.type;\r\n\t}\r\n\r\n\t/**\r\n\t * An array of Chart.ChartDataSets, corresponding to Chart.ChartConfiguration.data.datasets\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset datasets(ds: Chart.ChartDataSets[] | any) {\r\n\t\tthis._params.datasets = ds;\r\n\t}\r\n\r\n\tget datasets(): Chart.ChartDataSets[] | any {\r\n\t\treturn this._params.datasets;\r\n\t}\r\n\r\n\t/**\r\n\t * An array of strings in hex, rgb, or rgba format, to define the base colors of datasets, or the data points of each dataset. If this\r\n\t * property is absent, or the colors defined are less than the number of datasets (or the data points of each dataset), the missing\r\n\t * colors will be assigned from the default palette\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset colors(c: string[] | undefined) {\r\n\t\tthis._params.colors = c;\r\n\t}\r\n\r\n\tget colors(): string[] | undefined {\r\n\t\treturn this._params.colors;\r\n\t}\r\n\r\n\t/**\r\n\t * Specify what the colors (either defined or generated) are for.\r\n\t *  * 'series' - each color corresponds to a dataset\r\n\t *  * 'data' - each color corresponds to a data point of each dataset\r\n\t *  * 'auto' - use 'series' for chart types 'bar', 'horizontalBar' and 'line'; and use 'data' for other chart types\r\n\t *  * 'none' - turn off the color generator. Use this value if colors are specified via #options\r\n\t * @default 'auto'\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset colorsFor(cf: ColorsForType | undefined) {\r\n\t\tthis._params.colorsFor = cf;\r\n\t}\r\n\r\n\tget colorsFor(): ColorsForType | undefined {\r\n\t\treturn this._params.colorsFor;\r\n\t}\r\n\r\n\t/**\r\n\t * The aspect ratio of the chart\r\n\t * @default 2\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset ratio(r: number | undefined) {\r\n\t\tthis._params.ratio = r;\r\n\t}\r\n\r\n\tget ratio(): number | undefined {\r\n\t\treturn this._params.ratio;\r\n\t}\r\n\r\n\t/**\r\n\t * Specifiy how to display the legend\r\n\t *  * if the value is a boolean, it corresponds to Chart.ChartConfiguration.options.legend.display\r\n\t *  * if the value is 'auto', the legend will be arranged automatically. For example, the legend will be hidden if the chart area is\r\n\t *    too small\r\n\t *  * if the value is of type Chart.ChartLegendOptions, it corresponds to Chart.ChartConfiguration.options.legend.position\r\n\t *  * if the value is of type Chart.ChartLegendOptions, it corresponds to Chart.ChartConfiguration.options.legend\r\n\t * @default 'auto'\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset legend(l: LegendType | undefined) {\r\n\t\tthis._params.legend = l;\r\n\t}\r\n\r\n\tget legend(): LegendType | undefined {\r\n\t\treturn this._params.legend;\r\n\t}\r\n\r\n\t/**\r\n\t * An ISO 4217 currency code. If specified, it will be used to format the scales of the main axis, as well as the values in the tooltips.\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset currency(curr: string | undefined) {\r\n\t\tthis._params.currency = curr;\r\n\t}\r\n\r\n\tget currency(): string | undefined {\r\n\t\treturn this._params.currency;\r\n\t}\r\n\r\n\t/**\r\n\t * The digit info of the output template, used to format numbers in scales. Please refer to https://angular.io/api/common/DecimalPipe\r\n\t * for its usage.\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset digits(d: string | undefined) {\r\n\t\tthis._params.digits = d;\r\n\t}\r\n\r\n\tget digits(): string | undefined {\r\n\t\treturn this._params.digits;\r\n\t}\r\n\r\n\t/**\r\n\t * Corresponds to Chart.ChartConfiguration.options. This overrides any other settings.\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset options(opt: Chart.ChartOptions | undefined) {\r\n\t\tthis._params.options = opt;\r\n\t}\r\n\r\n\tget options(): Chart.ChartOptions | undefined {\r\n\t\treturn this._params.options;\r\n\t}\r\n\r\n\t/**\r\n\t * A moment.js format string. When specified, the X axis will be configured with time scales, and this value will be used to format the\r\n\t * tooltips.\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset timeFormat(tf: string | undefined) {\r\n\t\tthis._params.timeFormat = tf;\r\n\t}\r\n\r\n\tget timeFormat(): string | undefined {\r\n\t\treturn this._params.timeFormat;\r\n\t}\r\n\r\n\t/**\r\n\t * Specify whether to show the overall percentage values in the popover tooltips.\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset percentage(p: ShowPercentageType | undefined) {\r\n\t\tthis._params.percentage = p;\r\n\t}\r\n\r\n\tget percentage(): ShowPercentageType | undefined {\r\n\t\treturn this._params.percentage;\r\n\t}\r\n\r\n\tget paramsChanged(): boolean {\r\n\t\treturn !isEqual(this._params, this._prevParams);\r\n\t}\r\n\r\n\tisParamChanged(property: keyof ChartParameters) {\r\n\t\treturn !isEqual(this._params[property], this._prevParams[property]);\r\n\t}\r\n\r\n\tresetParamsChangeState() {\r\n\t\tthis._prevParams = cloneDeep(this._params);\r\n\t}\r\n\r\n\tconstructor(protected _zone: NgZone) {\r\n\t\tthis._wndEvSubs = fromEvent(window, 'resize').subscribe(() => {\r\n\t\t\tthis._resized = true;\r\n\t\t\tthis._doCheck(500);\r\n\t\t});\r\n\t}\r\n\r\n\tngDoCheck(): void {\r\n\t\tif (!this._resized) {\r\n\t\t\tthis._doCheck(50);\r\n\t\t}\r\n\t}\r\n\r\n\tngOnDestroy(): void {\r\n\t\tthis._wndEvSubs.unsubscribe();\r\n\t\tthis._onDestroy();\r\n\t}\r\n\r\n\tprotected abstract _checkUpdate(resized: boolean);\r\n\tprotected abstract _onDestroy();\r\n\r\n\tprivate _doCheck(deferred: number): void {\r\n\t\tif (this._debounceTimer) {\r\n\t\t\tclearTimeout(this._debounceTimer as any);\r\n\t\t\tthis._debounceTimer = null;\r\n\t\t}\r\n\t\tthis._zone.runOutsideAngular(() => {\r\n\t\t\tthis._debounceTimer = setTimeout(() => {\r\n\t\t\t\tthis._checkUpdate(this._resized);\r\n\t\t\t\tthis._resized = false;\r\n\t\t\t}, deferred);\r\n\t\t});\r\n\t}\r\n}\r\n","import { Component, ChangeDetectionStrategy, Input, ElementRef, ViewChild, NgZone } from '@angular/core';\r\nimport { generateColorsBySeries, generateColorsByDataPoints } from './color.helpers';\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { cloneDeep } from './utils';\r\nimport moment from 'moment';\r\nimport { BaseChart, ShowPercentageType, ColorsForType, formatMoney, formatScale } from './base.chart';\r\n\r\n/**\r\n * @internal\r\n */\r\nconst MULTI_SERIES_BY_DEFAULT = ['line', 'bar', 'horizontalBar', 'radar'];\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction getTooltipLabelCallBack(\r\n\tcurrency: string | undefined,\r\n\tpercentage: ShowPercentageType,\r\n\tdigitInfo: string | undefined,\r\n\ttype: 'label' | 'afterLabel' | 'both'\r\n): Chart.ChartTooltipCallback['label'] | Chart.ChartTooltipCallback['afterLabel'] {\r\n\treturn (tooltipItem, data) => {\r\n\t\tconst labels: any[] = [];\r\n\t\tconst ds = data.datasets as Chart.ChartDataSets[];\r\n\t\tconst label = ds.length > 1 ? ds[tooltipItem.datasetIndex || 0].label || '' : '';\r\n\t\tif (label && type === 'both') {\r\n\t\t\tlabels.push(label);\r\n\t\t}\r\n\t\tif (type === 'label') {\r\n\t\t\treturn label;\r\n\t\t}\r\n\t\tconst dsData: (number | number[])[] | Chart.ChartPoint[] = ds[tooltipItem.datasetIndex || 0].data || [];\r\n\t\tconst point = dsData[tooltipItem.index || 0];\r\n\t\tconst value = typeof point === 'number' ? point : Array.isArray(point) ? point[0] : point.y;\r\n\r\n\t\tif (percentage !== 'only') {\r\n\t\t\tif (currency) {\r\n\t\t\t\tlabels.push(formatMoney(value, currency, digitInfo));\r\n\t\t\t} else if (digitInfo && typeof value === 'number') {\r\n\t\t\t\tlabels.push(new DecimalPipe(moment.locale()).transform(value, digitInfo));\r\n\t\t\t} else {\r\n\t\t\t\tlabels.push(tooltipItem.yLabel || value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (percentage) {\r\n\t\t\tconst perc = typeof value === 'number' ? value : 0;\r\n\t\t\tconst total = (dsData as any[]).reduce((p, d) => p + (typeof d === 'number' ? d : (d.y as number)), 0);\r\n\t\t\tlabels.push(`${total ? ((perc * 100) / total).toFixed(2) : 0}%`);\r\n\t\t}\r\n\t\treturn labels.join(' : ');\r\n\t};\r\n}\r\n\r\nfunction splitWords(text: string, maxLength: number) {\r\n\tconst words: string[] = [];\r\n\tlet word = '';\r\n\ttext.split(' ').forEach((w) => {\r\n\t\tword = [word, w].join(' ');\r\n\t\tif (word.length > maxLength) {\r\n\t\t\twords.push(word);\r\n\t\t\tword = '';\r\n\t\t}\r\n\t});\r\n\tif (word) {\r\n\t\twords.push(word);\r\n\t}\r\n\treturn words;\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function getTooltipTitleCallBack(horizontal?: boolean): Chart.ChartTooltipCallback['title'] {\r\n\treturn (tooltipItems, data) => {\r\n\t\t// Pick first xLabel for now\r\n\t\tlet title = '';\r\n\t\tconst labels = data.labels || [];\r\n\t\tconst labelCount = labels.length;\r\n\r\n\t\tif (tooltipItems.length > 0) {\r\n\t\t\tconst item = tooltipItems[0];\r\n\r\n\t\t\tif (item.xLabel || (horizontal && item.yLabel)) {\r\n\t\t\t\ttitle = ((horizontal ? item.yLabel : item.xLabel) as string) || '';\r\n\t\t\t} else if ((labelCount > 0 && item.index) || 0 < labelCount) {\r\n\t\t\t\ttitle = labels[item.index || 0] as string;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn splitWords(title, 15);\r\n\t};\r\n}\r\n\r\ndeclare const Chart: any;\r\nif (typeof Chart !== 'undefined') {\r\n\tChart.pluginService.register({\r\n\t\tafterEvent: (chartInstance: Chart, chartEvent: MouseEvent) => {\r\n\t\t\tconst legend = (chartInstance as any).legend;\r\n\t\t\tconst canvas = chartInstance.canvas;\r\n\t\t\tconst x = chartEvent.x;\r\n\t\t\tconst y = chartEvent.y;\r\n\t\t\tlet cursorStyle = 'default';\r\n\t\t\tif (x <= legend.right && x >= legend.left && y <= legend.bottom && y >= legend.top) {\r\n\t\t\t\tfor (const box of legend.legendHitBoxes) {\r\n\t\t\t\t\tif (x <= box.left + box.width && x >= box.left && y <= box.top + box.height && y >= box.top) {\r\n\t\t\t\t\t\tcursorStyle = 'pointer';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (canvas) {\r\n\t\t\t\tcanvas.style.cursor = cursorStyle;\r\n\t\t\t}\r\n\t\t},\r\n\t});\r\n}\r\n\r\n@Component({\r\n\tselector: 'ezy-chart',\r\n\ttemplate: ` <div #chartContainer></div> `,\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class ChartComponent extends BaseChart {\r\n\t@Input()\r\n\tplugins: any[];\r\n\r\n\tprivate _config: Chart.ChartConfiguration = {};\r\n\tprivate _prevConfig: Chart.ChartConfiguration = {};\r\n\r\n\tprivate _chart: Chart;\r\n\r\n\t@ViewChild('chartContainer', { read: ElementRef, static: true })\r\n\tprivate _chartContainer: ElementRef;\r\n\r\n\tconstructor(zone: NgZone) {\r\n\t\tsuper(zone);\r\n\t}\r\n\r\n\tprotected _onDestroy() {\r\n\t\tif (this._chart) {\r\n\t\t\tthis._chart.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected _checkUpdate(resized: boolean) {\r\n\t\tlet dataOrParamsChanged = false;\r\n\t\tif (this.paramsChanged) {\r\n\t\t\tthis._applyConfig();\r\n\t\t\tdataOrParamsChanged = true;\r\n\t\t}\r\n\r\n\t\tdataOrParamsChanged =\r\n\t\t\tdataOrParamsChanged || JSON.stringify(this._config.data) !== JSON.stringify(this._prevConfig.data);\r\n\t\tlet configChanged: boolean =\r\n\t\t\tJSON.stringify(this._config.options) !== JSON.stringify(this._prevConfig.options) ||\r\n\t\t\tthis._config.type !== this._prevConfig.type;\r\n\r\n\t\tconfigChanged = configChanged || this.isParamChanged('colorsFor');\r\n\r\n\t\tconfigChanged = configChanged || this.isParamChanged('colors');\r\n\t\tconfigChanged = configChanged || this.isParamChanged('percentage');\r\n\t\tconfigChanged = configChanged || this.isParamChanged('currency');\r\n\t\tconfigChanged = configChanged || this.isParamChanged('timeFormat');\r\n\r\n\t\tif (dataOrParamsChanged || configChanged) {\r\n\t\t\tthis._refresh(configChanged);\r\n\t\t\tthis._checkSize();\r\n\t\t} else if (resized) {\r\n\t\t\tthis._checkSize();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _refresh(configChanged: boolean) {\r\n\t\tthis._prevConfig = cloneDeep(this._config);\r\n\t\tthis.resetParamsChangeState();\r\n\r\n\t\tif (configChanged || !this._chart) {\r\n\t\t\tif (this._chart) {\r\n\t\t\t\tthis._chart.destroy();\r\n\t\t\t}\r\n\t\t\tconst cfg = cloneDeep(this._prevConfig);\r\n\t\t\tthis._applyColors(this.colors || [], this.colorsFor || 'auto', (cfg.data || {}).datasets || []);\r\n\t\t\tthis._createNewChart(cfg);\r\n\t\t} else {\r\n\t\t\tthis._chart.config.data = cloneDeep(this._config.data || {});\r\n\t\t\tthis._applyColors(this.colors || [], this.colorsFor || 'auto', this._chart.config.data.datasets || []);\r\n\t\t\tthis._chart.update();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _createNewChart(cfg: Chart.ChartConfiguration) {\r\n\t\tthis._zone.runOutsideAngular(() => {\r\n\t\t\tconst container: HTMLElement = this._chartContainer.nativeElement;\r\n\t\t\tconst nodes = container.getElementsByTagName('canvas');\r\n\t\t\tif (nodes.length) {\r\n\t\t\t\tcontainer.removeChild(nodes.item(0));\r\n\t\t\t}\r\n\t\t\tconst canvas = document.createElement('canvas');\r\n\t\t\tcontainer.appendChild(canvas);\r\n\t\t\t(cfg as any).plugins = this.plugins;\r\n\t\t\tthis._chart = new Chart(canvas, cfg);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate _checkSize() {\r\n\t\tif (!this._chart) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst cfg = this._chart.config;\r\n\t\tconst width = this._chart.chartArea.right - this._chart.chartArea.left;\r\n\t\tconst height = this._chart.chartArea.bottom - this._chart.chartArea.top;\r\n\t\tconst legendOpt = (cfg.options || {}).legend || {};\r\n\t\tif ((this.legend || 'auto') === 'auto') {\r\n\t\t\tif ((width < 140 || height < 140) && legendOpt.display) {\r\n\t\t\t\tthis._chart.destroy();\r\n\t\t\t\tlegendOpt.display = false;\r\n\t\t\t\tthis._createNewChart(cfg);\r\n\t\t\t} else if (\r\n\t\t\t\twidth > 150 &&\r\n\t\t\t\theight > 150 &&\r\n\t\t\t\t!legendOpt.display &&\r\n\t\t\t\tthis._config.options.legend &&\r\n\t\t\t\tthis._config.options.legend.display\r\n\t\t\t) {\r\n\t\t\t\tthis._refresh(true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _applyConfig() {\r\n\t\tconst multiType: boolean = MULTI_SERIES_BY_DEFAULT.indexOf(this.type || 'bar') >= 0;\r\n\r\n\t\tthis._config.type = this.type || 'bar';\r\n\t\tthis._config.options = this._config.options || {};\r\n\t\tthis._config.options.legend = this._config.options.legend || {};\r\n\t\tthis._config.data = this._config.data || {};\r\n\t\tconst ds: Chart.ChartDataSets[] = (this._config.data.datasets = cloneDeep(this.datasets || []));\r\n\r\n\t\tif (!ds.some((d) => (d.label ? true : false))) {\r\n\t\t\tif (multiType) {\r\n\t\t\t\tthis._config.options.legend.display = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst labels = (this._config.data.labels = cloneDeep(this.labels || []));\r\n\r\n\t\t((this._config.options || {}) as any).aspectRatio = this.ratio || 2;\r\n\r\n\t\tconst legend = this.legend === false ? false : this.legend || 'auto';\r\n\t\tif (typeof legend === 'string' && ['top', 'right', 'bottom', 'left'].indexOf(legend) >= 0) {\r\n\t\t\tthis._config.options.legend.position = legend as Chart.PositionType;\r\n\t\t} else if (typeof legend === 'boolean') {\r\n\t\t\tthis._config.options.legend.display = legend;\r\n\t\t} else if (typeof legend === 'object') {\r\n\t\t\tthis._config.options.legend = cloneDeep(legend) as Chart.ChartLegendOptions;\r\n\t\t} else if (legend === 'auto') {\r\n\t\t\tconst multiPoints: boolean = ds.every((d) => (d.data || []).length > 1);\r\n\t\t\tthis._config.options.legend.display = (multiType && ds.length > 1) || (multiPoints && !multiType);\r\n\t\t\tthis._config.options.legend.position = multiType && this.type !== 'radar' ? 'top' : 'right';\r\n\t\t}\r\n\r\n\t\tthis._config.options.scales = {};\r\n\t\tif (this.currency) {\r\n\t\t\tconst curr = this.currency;\r\n\t\t\tif (multiType) {\r\n\t\t\t\tconst axes: Chart.CommonAxe = {\r\n\t\t\t\t\tticks: { callback: (val) => formatScale(val, curr) },\r\n\t\t\t\t};\r\n\t\t\t\tif (\r\n\t\t\t\t\tds.every((d) =>\r\n\t\t\t\t\t\tthis._isYAxisAllNumbers(\r\n\t\t\t\t\t\t\tArray.isArray(d.data) ? d.data : typeof d.data === 'number' ? [d.data] : []\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tif (this.type !== 'horizontalBar') {\r\n\t\t\t\t\t\tthis._config.options.scales.yAxes = [axes];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._config.options.scales.xAxes = [axes];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet timeScaleConfigured = false;\r\n\r\n\t\tthis._config.options.tooltips = this._config.options.tooltips || {};\r\n\r\n\t\tif (this.type === 'line') {\r\n\t\t\tconst isTimeScale = ds.every((d) =>\r\n\t\t\t\t((d.data as Chart.ChartPoint[]) || []).every((item) => (item.x ? moment(item.x).isValid() : false))\r\n\t\t\t);\r\n\t\t\tif (isTimeScale) {\r\n\t\t\t\tthis._config.options.scales = this._config.options.scales || {};\r\n\t\t\t\tlet minTime: moment.Moment;\r\n\t\t\t\tds.reduce((p, c) => [...p, ...(c.data as Chart.ChartPoint[])], [])\r\n\t\t\t\t\t.map((p) => moment(p.x))\r\n\t\t\t\t\t.forEach((m) => {\r\n\t\t\t\t\t\tif (!minTime || minTime.isAfter(m)) {\r\n\t\t\t\t\t\t\tminTime = m;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\tds.every((d) =>\r\n\t\t\t\t\t((d.data as Chart.ChartPoint[]) || []).every((item) => (item.x ? moment(item.x).isValid() : false))\r\n\t\t\t\t);\r\n\t\t\t\tthis._config.options.scales.xAxes = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'time',\r\n\t\t\t\t\t\ttime: {\r\n\t\t\t\t\t\t\ttooltipFormat: this.timeFormat || 'L',\r\n\t\t\t\t\t\t\tmin: minTime ? minTime.toISOString() : undefined,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t];\r\n\t\t\t\ttimeScaleConfigured = true;\r\n\t\t\t}\r\n\t\t\tthis._config.options.tooltips.mode = 'index';\r\n\t\t\tthis._config.options.tooltips.intersect = false;\r\n\t\t} else {\r\n\t\t\tthis._config.options.tooltips.mode = 'nearest';\r\n\t\t\tthis._config.options.tooltips.intersect = true;\r\n\t\t}\r\n\r\n\t\tif (ds.length === 0 || (ds[0].data || []).length === 0) {\r\n\t\t} else if ((ds[0].data || []).length > labels.length && !timeScaleConfigured) {\r\n\t\t\tconsole.warn('ezy-chart: wrong number of labels. ');\r\n\t\t}\r\n\r\n\t\tif (!this._config.options.scales || Object.keys(this._config.options.scales).length === 0) {\r\n\t\t\tconst opt: any = {};\r\n\t\t\tObject.keys(this._config.options || {})\r\n\t\t\t\t.filter((k) => k !== 'scales')\r\n\t\t\t\t.forEach((k) => (opt[k] = this._config.options[k]));\r\n\t\t\tthis._config.options = opt;\r\n\t\t}\r\n\r\n\t\tconst splitLabel: boolean = (this.type === 'pie' || this.type === 'doughnut') && ds.length > 1;\r\n\t\tthis._config.options.tooltips.callbacks = this._config.options.tooltips.callbacks || {};\r\n\t\tthis._config.options.tooltips.callbacks.label = getTooltipLabelCallBack(\r\n\t\t\tthis.currency,\r\n\t\t\tthis.percentage || false,\r\n\t\t\tthis.digits,\r\n\t\t\tsplitLabel ? 'label' : 'both'\r\n\t\t);\r\n\t\tif (splitLabel) {\r\n\t\t\tthis._config.options.tooltips.callbacks.afterLabel = getTooltipLabelCallBack(\r\n\t\t\t\tthis.currency,\r\n\t\t\t\tthis.percentage || false,\r\n\t\t\t\tthis.digits,\r\n\t\t\t\t'afterLabel'\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tthis._config.options.tooltips.callbacks.afterLabel = () => '';\r\n\t\t}\r\n\t\tthis._config.options.tooltips.callbacks.title = getTooltipTitleCallBack(this.type === 'horizontalBar');\r\n\r\n\t\tif (this.options) {\r\n\t\t\tObject.keys(this.options).forEach((k) => {\r\n\t\t\t\tif (this.options[k] || this.options[k] === 0) {\r\n\t\t\t\t\tthis._config.options[k] = this.options[k];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _isYAxisAllNumbers(data: Array<Chart.ChartPoint | number | number[]>): boolean {\r\n\t\treturn data.every((d) => !d || typeof d === 'number' || (!Array.isArray(d) && typeof d.y === 'number'));\r\n\t}\r\n\r\n\tprivate _applyColors(colors: string[], colorsFor: ColorsForType, datasets: Chart.ChartDataSets[]) {\r\n\t\tif (colorsFor === 'auto') {\r\n\t\t\tif (MULTI_SERIES_BY_DEFAULT.indexOf(this.type || 'bar') >= 0) {\r\n\t\t\t\tcolorsFor = 'series';\r\n\t\t\t} else {\r\n\t\t\t\tcolorsFor = 'data';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (colorsFor === 'series') {\r\n\t\t\tconst colorGroups = generateColorsBySeries(colors, datasets.length, this.type || 'bar');\r\n\t\t\tdatasets.forEach((ds, i) => {\r\n\t\t\t\tObject.keys(colorGroups[i]).forEach((k) => (ds[k] = colorGroups[i][k]));\r\n\t\t\t});\r\n\t\t} else if (colorsFor === 'data') {\r\n\t\t\tfor (const ds of datasets) {\r\n\t\t\t\tconst colorGroup = generateColorsByDataPoints(colors, (ds.data || []).length, this.type || 'bar');\r\n\t\t\t\tObject.keys(colorGroup).forEach((k) => (ds[k] = colorGroup[k]));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import { BaseChart, formatScale, formatMoney, ShowPercentageType } from './base.chart';\r\n\r\nimport { Component, ChangeDetectionStrategy, NgZone, ViewChild, ElementRef, ViewEncapsulation } from '@angular/core';\r\nimport { generateColorsAsStrings } from './color.helpers';\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { cloneDeep } from './utils';\r\nimport moment from 'moment';\r\n\r\n@Component({\r\n\tselector: 'ezy-echart',\r\n\ttemplate: ` <div #chartContainer></div> `,\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n\tencapsulation: ViewEncapsulation.None,\r\n\tstyles: [\r\n\t\t`\r\n\t\t\t.ezy-echart-series-indicator {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tborder-radius: 10px;\r\n\t\t\t\tborder-width: 1px;\r\n\t\t\t\tborder-style: solid;\r\n\t\t\t\tborder-color: white;\r\n\t\t\t\twidth: 10px;\r\n\t\t\t\theight: 10px;\r\n\t\t\t}\r\n\t\t\t.ezy-echart-tooltip-item {\r\n\t\t\t\ttext-indent: -13px;\r\n\t\t\t\tpadding-left: 13px;\r\n\t\t\t}\r\n\t\t`,\r\n\t],\r\n})\r\nexport class EChartComponent extends BaseChart {\r\n\t@ViewChild('chartContainer', { read: ElementRef, static: true })\r\n\tprivate _chartContainer: ElementRef;\r\n\r\n\tprivate _chart: echarts.ECharts;\r\n\tprivate _echartsOptions: echarts.EChartOption = {};\r\n\r\n\tprivate _typeMap = {\r\n\t\tbar: 'bar',\r\n\t\thorizontalBar: 'bar',\r\n\t\tdoughnut: 'pie',\r\n\t\tpie: 'pie',\r\n\t\tline: 'line',\r\n\t};\r\n\r\n\tconstructor(zone: NgZone) {\r\n\t\tsuper(zone);\r\n\t}\r\n\r\n\tprotected async _checkUpdate(resized: boolean) {\r\n\t\tif (this._chartContainer && !this._chart) {\r\n\t\t\tthis._createChart();\r\n\t\t} else if (resized && !this.paramsChanged) {\r\n\t\t\tthis._recalculateSize();\r\n\t\t}\r\n\r\n\t\tif (this.paramsChanged) {\r\n\t\t\tthis._applyOptions();\r\n\t\t\tthis.resetParamsChangeState();\r\n\t\t\tthis._recalculateSize();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected _onDestroy() {\r\n\t\tif (this._chart && !this._chart.isDisposed()) {\r\n\t\t\tthis._chart.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _recalculateSize() {\r\n\t\tif (this._chartContainer) {\r\n\t\t\tconst div: HTMLDivElement = this._chartContainer.nativeElement;\r\n\t\t\tconst height = Math.max(div.clientWidth / (this.ratio || 2), 240);\r\n\t\t\tdiv.style.height = `${height}px`;\r\n\t\t\tif (this._chart) {\r\n\t\t\t\tthis._chart.resize();\r\n\t\t\t\tif (this._echartsOptions.legend) {\r\n\t\t\t\t\tconst opt: any = this._chart.getOption();\r\n\t\t\t\t\tif (div.clientWidth <= 240 || div.clientHeight <= 240) {\r\n\t\t\t\t\t\topt.legend = undefined;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\topt.legend = cloneDeep(this._echartsOptions.legend);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._chart.setOption(opt, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _createChart() {\r\n\t\tthis._chart = echarts.init(this._chartContainer.nativeElement);\r\n\t}\r\n\r\n\tprivate _applyOptions() {\r\n\t\tconst ds = this.datasets || [];\r\n\t\tthis._echartsOptions = {};\r\n\t\tconst mainType = this.type || 'bar';\r\n\t\tconst series: any[] = ds.map((v) => ({\r\n\t\t\tname: v.name || typeof v.label === 'string' ? v.label : '',\r\n\t\t\ttype: this._typeMap[v.type || mainType] || v.type || mainType,\r\n\t\t\tdata: (v.data || ([] as any[])).map((d) => this._mapDataItem(d, this.timeFormat)),\r\n\t\t}));\r\n\t\tconst isTime = series.some((s) => s.data.some((d) => d.name && moment(d.name).isValid()));\r\n\t\tconst labels = this.labels || [];\r\n\t\tconst timeAxis = [\r\n\t\t\t{\r\n\t\t\t\ttype: 'time',\r\n\t\t\t},\r\n\t\t];\r\n\t\tconst catAxis: Array<echarts.EChartOption.XAxis | echarts.EChartOption.YAxis> = [\r\n\t\t\t{ data: labels, type: 'category' },\r\n\t\t];\r\n\t\tconst valAxis: Array<echarts.EChartOption.XAxis | echarts.EChartOption.YAxis> = [{ type: 'value' }];\r\n\t\tconst tooltip: any = {\r\n\t\t\taxisPointer: {\r\n\t\t\t\ttype: 'shadow',\r\n\t\t\t},\r\n\t\t};\r\n\t\ttooltip.formatter = this._formatTooltip.bind(this, this.currency, this.percentage, this.digits);\r\n\t\tif (this.currency) {\r\n\t\t\tvalAxis[0].axisLabel = { formatter: (value) => formatScale(value, this.currency) };\r\n\t\t}\r\n\t\tthis._echartsOptions = {\r\n\t\t\tseries,\r\n\t\t\ttooltip,\r\n\t\t};\r\n\r\n\t\tif (mainType === 'horizontalBar') {\r\n\t\t\tthis._echartsOptions.yAxis = catAxis as echarts.EChartOption.YAxis[];\r\n\t\t\tthis._echartsOptions.xAxis = valAxis as echarts.EChartOption.XAxis[];\r\n\t\t\tthis._echartsOptions.tooltip['trigger'] = 'axis';\r\n\t\t} else if (mainType === 'line' || mainType === 'bar') {\r\n\t\t\tthis._echartsOptions.xAxis = (isTime ? timeAxis : catAxis) as echarts.EChartOption.XAxis[];\r\n\t\t\tthis._echartsOptions.yAxis = valAxis as echarts.EChartOption.YAxis[];\r\n\t\t\tthis._echartsOptions.tooltip['trigger'] = 'axis';\r\n\t\t} else if (this._typeMap[mainType] === 'pie') {\r\n\t\t\tthis._definePieShape(series, labels, mainType === 'doughnut');\r\n\t\t}\r\n\r\n\t\tif (this.legend !== false) {\r\n\t\t\tthis._echartsOptions.legend = this._generateLegendOptions(\r\n\t\t\t\tseries.length > 1,\r\n\t\t\t\tthis._typeMap[mainType] === 'pie'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tthis._defineColors(series, this._typeMap[mainType] === 'pie');\r\n\r\n\t\tconst opt = cloneDeep(this._echartsOptions || {});\r\n\t\tObject.keys(this.options || {}).forEach((k) => {\r\n\t\t\tif (this.options[k] || this.options[k] === 0) {\r\n\t\t\t\topt[k] = this.options[k];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis._chart.setOption(opt, true);\r\n\t}\r\n\r\n\tprivate _mapDataItem(item: any, timeFormat: string): any {\r\n\t\tif (typeof item === 'number') {\r\n\t\t\treturn { value: item };\r\n\t\t}\r\n\t\tif (!item) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tif (item.x && moment(item.x).isValid() && typeof item.y === 'number') {\r\n\t\t\tconst m = moment(item.x);\r\n\t\t\treturn {\r\n\t\t\t\tname: moment(item.x).format(timeFormat || 'L'),\r\n\t\t\t\tvalue: [`${m.get('year')}-${m.get('month')}-${m.get('day')}`, item.y],\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn item;\r\n\t}\r\n\r\n\tprivate _definePieShape(series: any[], labels: string[], makeDoughnut: boolean) {\r\n\t\tlet r = 0;\r\n\t\tlet step = 80;\r\n\t\tif (makeDoughnut) {\r\n\t\t\tr = 40;\r\n\t\t}\r\n\t\tstep = (80 - r) / series.length;\r\n\t\tseries.forEach((s) => {\r\n\t\t\ts.data.forEach((d, i) => (d.name = labels[i]));\r\n\t\t\ts.radius = [`${r}%`, `${r + step - 1}%`];\r\n\t\t\tr = r + step;\r\n\t\t\ts.label = {\r\n\t\t\t\tnormal: {\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t},\r\n\t\t\t\temphasis: {\r\n\t\t\t\t\tshow: makeDoughnut ? true : false,\r\n\t\t\t\t\ttextShadowColor: 'grey',\r\n\t\t\t\t\ttextShadowOffsetY: 1,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t\ts['avoidLabelOverlap'] = false;\r\n\t\t});\r\n\t}\r\n\r\n\tprivate _defineColors(series: any[], pieLike: boolean) {\r\n\t\tlet cf = this.colorsFor || 'auto';\r\n\t\tif (cf === 'auto') {\r\n\t\t\tif (pieLike) {\r\n\t\t\t\tcf = 'data';\r\n\t\t\t} else {\r\n\t\t\t\tcf = 'series';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (cf === 'series') {\r\n\t\t\tconst colors = generateColorsAsStrings(this.colors || [], series.length);\r\n\t\t\tseries.forEach((s, i) => (s['color'] = colors[i]));\r\n\t\t} else if (cf === 'data') {\r\n\t\t\tseries.forEach((s) => {\r\n\t\t\t\tconst colors = generateColorsAsStrings(this.colors || [], s.data.length);\r\n\t\t\t\ts.data.forEach((d, i) => (d.itemStyle = { color: colors[i] }));\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _formatTooltip(currencyCode: string, percent: ShowPercentageType, digitInfo: string, param: any) {\r\n\t\tconst formatParam = (p) => {\r\n\t\t\tlet l = `<div class=\"ezy-echart-tooltip-item\"><span class=\"ezy-echart-series-indicator\" style=\"background-color: ${p.color}\"></span>\r\n\t\t\t ${p.seriesName}: `;\r\n\t\t\tconst percentOnly: boolean = percent === 'only' && p.percent;\r\n\t\t\tconst showPercent: boolean = percent && p.percent;\r\n\t\t\tconst v = Array.isArray(p.data.value) ? p.data.value[1] : p.data.value;\r\n\r\n\t\t\tif (!percentOnly) {\r\n\t\t\t\tif (currencyCode) {\r\n\t\t\t\t\tl += formatMoney(v, currencyCode, digitInfo);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tl += new DecimalPipe(moment.locale()).transform(v, digitInfo);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (showPercent) {\r\n\t\t\t\tl += `<span> ${p.percent}%</span>`;\r\n\t\t\t}\r\n\t\t\tl += '</div>';\r\n\t\t\treturn l;\r\n\t\t};\r\n\r\n\t\tlet str = '<div style=\"max-width: 35vw; white-space:normal\">';\r\n\t\tif (Array.isArray(param)) {\r\n\t\t\tstr += `<strong>${param[0].name}</strong><br/>`;\r\n\t\t\tstr += `${param.map((p) => formatParam(p)).join('')}`;\r\n\t\t} else {\r\n\t\t\tstr += `<strong>${param.name}</strong><br/>`;\r\n\t\t\tstr += `${formatParam(param)}`;\r\n\t\t}\r\n\t\treturn str + '</div>';\r\n\t}\r\n\r\n\tprivate _generateLegendOptions(multiSeries: boolean, pieLike: boolean): any {\r\n\t\tconst l = this.legend || 'auto';\r\n\t\tif ((l === 'auto' && (multiSeries || pieLike)) || typeof this.legend === 'string') {\r\n\t\t\tconst legend: any = {};\r\n\t\t\tif (l === 'auto' && pieLike) {\r\n\t\t\t\tlegend.x = 'left';\r\n\t\t\t}\r\n\t\t\tif (['left', 'right', 'top', 'bottom'].indexOf(l as string) >= 0) {\r\n\t\t\t\tlegend.x = l;\r\n\t\t\t}\r\n\t\t\tif (legend.x === 'left' || legend.x === 'right') {\r\n\t\t\t\tlegend.orient = 'vertical';\r\n\t\t\t}\r\n\t\t\treturn legend;\r\n\t\t} else if (typeof this.legend === 'object') {\r\n\t\t\treturn this.legend;\r\n\t\t}\r\n\t}\r\n}\r\n","import { NgModule, InjectionToken, Inject, Optional } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ChartComponent } from './chart.component';\r\nimport { replaceDefaultColors } from './color.helpers';\r\nimport { EChartComponent } from './echart.component';\r\n\r\nexport const CHART_DEFAULT_COLORS: InjectionToken<number[][]> = new InjectionToken<number[][]>(\r\n\t'ezy-chart-default-colours'\r\n);\r\n\r\n@NgModule({\r\n\tdeclarations: [ChartComponent, EChartComponent],\r\n\timports: [CommonModule],\r\n\texports: [ChartComponent, EChartComponent]\r\n})\r\nexport class ChartsModule {\r\n\tconstructor(\r\n\t\t@Optional()\r\n\t\t@Inject(CHART_DEFAULT_COLORS)\r\n\t\tdefaultColors: number[][]\r\n\t) {\r\n\t\tif (defaultColors) {\r\n\t\t\treplaceDefaultColors(defaultColors);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport { ChartComponent, EChartComponent };\r\n","/*\r\n * Public API Surface of ezy-chart\r\n */\r\n\r\nexport * from './lib/charts.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}