{"version":3,"sources":["webpack:///src/environments/environment.ts","webpack:///node_modules/moment/locale sync ^\\.\\/.*$","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///projects/ezy-chart/src/lib/color.helpers.ts","webpack:///projects/ezy-chart/src/lib/utils.ts","webpack:///projects/ezy-chart/src/lib/base.chart.ts","webpack:///projects/ezy-chart/src/lib/chart.component.ts","webpack:///projects/ezy-chart/src/lib/echart.component.ts","webpack:///projects/ezy-chart/src/lib/charts.module.ts","webpack:///projects/ezy-chart/src/public-api.ts","webpack:///projects/ezy-chart/src/ezy-chart.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["environment","production","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","webpackContextKeys","Object","resolve","module","exports","AppComponent","datasets","data","label","labels","type","colorsFor","timeScale","currencyMode","showPercentage","engine","push","length","forEach","ds","_getRandomDataItem","Array","i","_configLineSpecificProperties","pop","filter","d","scaleChanged","dataPoints","Math","max","y","x","add","fill","pointRadius","pointHoverRadius","lineTension","dsIndex","n","Number","random","toFixed","chartTag","templ","chartTypeChanged","addData","removeData","addSeries","removeSeries","AppModule","DEFAULT_COLORS","replaceDefaultColors","colors","a","generateColors","definedColors","totalNum","defaultIdx","val","col","parseColor","getRandomColor","input","undefined","m","match","parseInt","substr","charAt","console","error","generateColorsAsStrings","c","rgba","colour","alpha","concat","join","getRandomInt","min","floor","formatChartColorsForSeries","color","hoverBackgroundColor","backgroundColor","borderColor","pointBackgroundColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","generateColorsBySeries","formatChartColorsForData","generateColorsByDataPoints","cloneDeep","item","types","String","Boolean","result","prototype","toString","call","child","index","array","nodeType","cloneNode","Date","isEqual","args","l","leftChain","rightChain","compare2Objects","p","isNaN","RegExp","isPrototypeOf","constructor","indexOf","hasOwnProperty","arguments","formatNumber","digitsInfo","lessThanHint","formatter","isPercentPipe","accuracy","pow","h","s","formatPercentage","pipe","locale","transform","formatScale","currency","base","formatMoney","replace","digitInfo","formatDecimal","BaseChart","_zone","_params","_prevParams","_wndEvSubs","window","subscribe","_resized","_doCheck","property","unsubscribe","_onDestroy","deferred","_debounceTimer","clearTimeout","runOutsideAngular","setTimeout","_checkUpdate","t","cf","r","ratio","legend","curr","digits","percentDigits","opt","options","tf","timeFormat","percentage","MULTI_SERIES_BY_DEFAULT","getTooltipLabelCallBack","percentDigitInfo","tooltipItem","datasetIndex","dsData","point","value","isArray","yLabel","perc","total","reduce","splitWords","text","maxLength","words","word","split","w","getTooltipTitleCallBack","horizontal","tooltipItems","title","labelCount","xLabel","Chart","pluginService","register","afterEvent","chartInstance","chartEvent","canvas","cursorStyle","right","left","bottom","top","legendHitBoxes","box","width","height","style","cursor","ChartComponent","zone","_config","_prevConfig","_chart","destroy","resized","dataOrParamsChanged","paramsChanged","_applyConfig","JSON","stringify","configChanged","isParamChanged","_refresh","_checkSize","resetParamsChangeState","cfg","_applyColors","_createNewChart","config","update","container","_chartContainer","nativeElement","nodes","getElementsByTagName","removeChild","document","createElement","appendChild","plugins","chartArea","legendOpt","display","multiType","some","aspectRatio","position","multiPoints","every","scales","axes","ticks","callback","_isYAxisAllNumbers","yAxes","xAxes","timeScaleConfigured","tooltips","isTimeScale","isValid","minTime","isAfter","time","tooltipFormat","toISOString","mode","intersect","warn","k","splitLabel","callbacks","afterLabel","colorGroups","colorGroup","i0.ɵɵelement","selector","template","changeDetection","OnPush","read","EChartComponent","_echartsOptions","_typeMap","bar","horizontalBar","doughnut","pie","line","_createChart","_recalculateSize","_applyOptions","isDisposed","dispose","div","clientWidth","resize","getOption","clientHeight","setOption","echarts","init","mainType","series","v","name","_mapDataItem","isTime","timeAxis","catAxis","valAxis","tooltip","axisPointer","_formatTooltip","bind","axisLabel","yAxis","xAxis","_definePieShape","_generateLegendOptions","_defineColors","format","get","makeDoughnut","step","radius","normal","show","emphasis","textShadowColor","textShadowOffsetY","pieLike","itemStyle","currencyCode","percent","param","formatParam","seriesName","percentOnly","showPercent","str","multiSeries","orient","encapsulation","None","styles","CHART_DEFAULT_COLORS","ChartsModule","defaultColors","declarations","imports","bootstrapModule","err","webpackEmptyAsyncContext","Promise","then"],"mappings":"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","file":"main-es5.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import { Component } from '@angular/core';\r\nimport moment from 'moment';\r\n\r\n@Component({\r\n\tselector: 'ezy-chart-app-root',\r\n\ttemplateUrl: './app.component.html',\r\n\tstyleUrls: ['./app.component.scss'],\r\n})\r\nexport class AppComponent {\r\n\tdatasets: Chart.ChartDataSets[] = [{ data: [12, 19, 3, 5, 2, 3], label: 'series 1' }];\r\n\tlabels: string[] = ['sample 1', 'sample 2', 'sample 3', 'sample 4', 'sample 5', 'sample 6'];\r\n\ttype = 'bar';\r\n\tcolorsFor = 'auto';\r\n\ttimeScale = false;\r\n\tcurrencyMode = false;\r\n\tshowPercentage: string | boolean = false;\r\n\tengine = 'chartjs';\r\n\r\n\taddData() {\r\n\t\tthis.labels.push(`sample ${this.labels.length + 1}`);\r\n\t\tthis.datasets.forEach((ds) => {\r\n\t\t\tconst data = (ds.data as number[]) || [];\r\n\t\t\tdata.push(this._getRandomDataItem(data.length) as number);\r\n\t\t});\r\n\t}\r\n\r\n\taddSeries() {\r\n\t\tif (this.datasets.length) {\r\n\t\t\tconst data = new Array((this.datasets[0].data || []).length);\r\n\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\tdata[i] = this._getRandomDataItem(i);\r\n\t\t\t}\r\n\r\n\t\t\tconst ds: Chart.ChartDataSets = { data, label: `series ${this.datasets.length + 1}` };\r\n\t\t\tif (this.type === 'line' && this.engine === 'chartjs') {\r\n\t\t\t\tthis._configLineSpecificProperties(ds);\r\n\t\t\t}\r\n\t\t\tthis.datasets.push(ds);\r\n\t\t}\r\n\t}\r\n\r\n\tremoveData() {\r\n\t\tif (this.labels.length > 1) {\r\n\t\t\tthis.labels.pop();\r\n\t\t\tthis.datasets\r\n\t\t\t\t.map((ds) => ds.data as number[])\r\n\t\t\t\t.filter((d) => d.length > 1)\r\n\t\t\t\t.forEach((d) => d.pop());\r\n\t\t}\r\n\t}\r\n\r\n\tremoveSeries() {\r\n\t\tif (this.datasets.length > 1) {\r\n\t\t\tthis.datasets.pop();\r\n\t\t}\r\n\t}\r\n\r\n\tchartTypeChanged() {\r\n\t\tthis.colorsFor = 'auto';\r\n\t\tthis.timeScale = false;\r\n\t\tthis.scaleChanged();\r\n\t\tif (this.type === 'line' && this.engine === 'chartjs') {\r\n\t\t\tthis.datasets.forEach((ds) => this._configLineSpecificProperties(ds));\r\n\t\t} else {\r\n\t\t\tthis.datasets = this.datasets.map((ds) => ({ data: ds.data, label: ds.label }));\r\n\t\t}\r\n\t}\r\n\r\n\tscaleChanged() {\r\n\t\tlet dataPoints = 0;\r\n\t\tthis.datasets.forEach((ds) => {\r\n\t\t\tconst data = (ds.data as Array<number | Chart.ChartPoint>) || [];\r\n\t\t\tdataPoints = Math.max(dataPoints, data.length);\r\n\t\t\tdata.forEach((d, i) => {\r\n\t\t\t\tif (typeof d === 'number' && this.timeScale) {\r\n\t\t\t\t\tdata[i] = { y: d, x: moment().add(-i, 'year') as any };\r\n\t\t\t\t} else if (!this.timeScale && typeof d !== 'number') {\r\n\t\t\t\t\tdata[i] = d.y as number;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.labels = [];\r\n\r\n\t\tif (!this.timeScale) {\r\n\t\t\tfor (let i = 0; i < dataPoints; i++) {\r\n\t\t\t\tthis.labels.push(`sample ${this.labels.length + 1}`);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget sampleTemplate(): string {\r\n\t\tconst chartTag: string = this.engine === 'chartjs' ? 'ezy-chart' : 'ezy-echart';\r\n\t\tlet templ = `<${chartTag} type=\"${this.type}\" [datasets]=\"datasets\"`;\r\n\t\tif (this.labels && this.labels.length) {\r\n\t\t\ttempl += ' [labels]=\"labels\"';\r\n\t\t}\r\n\t\tif (this.colorsFor !== 'auto') {\r\n\t\t\ttempl += ` colorsFor=\"${this.colorsFor}\"`;\r\n\t\t}\r\n\t\tif (this.currencyMode) {\r\n\t\t\ttempl += ' currency=\"USD\"';\r\n\t\t}\r\n\t\tif (this.showPercentage === 'only') {\r\n\t\t\ttempl += ' percentage=\"only\"';\r\n\t\t} else if (this.showPercentage) {\r\n\t\t\ttempl += ' [percentage]=\"true\"';\r\n\t\t}\r\n\t\ttempl += `></${chartTag}>`;\r\n\t\treturn templ;\r\n\t}\r\n\r\n\tprivate _configLineSpecificProperties(ds: Chart.ChartDataSets) {\r\n\t\tds.fill = false;\r\n\t\tds.pointRadius = 8;\r\n\t\tds.pointHoverRadius = 10;\r\n\t\tds.lineTension = 0.1;\r\n\t}\r\n\r\n\tprivate _getRandomDataItem(dsIndex: number): number | Chart.ChartPoint {\r\n\t\tconst n = Number((Math.random() * 20).toFixed(1));\r\n\r\n\t\tif (this.timeScale) {\r\n\t\t\treturn { y: n, x: moment().add(-dsIndex, 'year') as any };\r\n\t\t} else {\r\n\t\t\treturn n;\r\n\t\t}\r\n\t}\r\n}\r\n","<label class=\"col-form-label\">Engine</label>\r\n<div>\r\n\t<div class=\"form-check form-check-inline\">\r\n\t\t<label class=\"form-check-label\">\r\n\t\t\t<input class=\"form-control\" type=\"radio\" name=\"engine\" value=\"chartjs\" [(ngModel)]=\"engine\" /> Chart.js\r\n\t\t</label>\r\n\t</div>\r\n\t<div class=\"form-check form-check-inline\">\r\n\t\t<label class=\"form-check-label\">\r\n\t\t\t<input class=\"form-control\" type=\"radio\" name=\"engine\" value=\"echarts\" [(ngModel)]=\"engine\" /> EChart\r\n\t\t</label>\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n\t<div class=\"col-lg-6\">\r\n\t\t<div [ngSwitch]=\"engine\">\r\n\t\t\t<div *ngSwitchCase=\"'chartjs'\">\r\n\t\t\t\t<ezy-chart [datasets]=\"datasets\" [labels]=\"labels\" [type]=\"type\" [colorsFor]=\"colorsFor\" [currency]=\"currencyMode ? 'USD' : undefined\"\r\n\t\t\t\t [percentage]=\"showPercentage\"></ezy-chart>\r\n\r\n\t\t\t</div>\r\n\t\t\t<div *ngSwitchDefault>\r\n\t\t\t\t<ezy-echart [datasets]=\"datasets\" [labels]=\"labels\" [type]=\"type\" [colorsFor]=\"colorsFor\" [currency]=\"currencyMode ? 'USD' : undefined\"\r\n\t\t\t\t [percentage]=\"showPercentage\"></ezy-echart>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"row align-items-center\">\r\n\t\t\t<div class=\"form-group col-lg-6\">\r\n\t\t\t\t<label class=\"col-form-label\" for=\"chartType\">Chart type</label>\r\n\t\t\t\t<select [(ngModel)]=\"type\" class=\"form-control\" id=\"chartType\" (change)=\"chartTypeChanged()\">\r\n\t\t\t\t\t<option [value]=\"'bar'\">Bar</option>\r\n\t\t\t\t\t<option [value]=\"'horizontalBar'\">Horizontal Bar</option>\r\n\t\t\t\t\t<option [value]=\"'line'\">Line</option>\r\n\t\t\t\t\t<option [value]=\"'pie'\">Pie</option>\r\n\t\t\t\t\t<option [value]=\"'doughnut'\">Doughnut</option>\r\n\t\t\t\t\t<option [value]=\"'polarArea'\">Polar Area</option>\r\n\t\t\t\t\t<option [value]=\"'radar'\">Radar</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"col-lg-6\">\r\n\t\t\t\t<label class=\"col-form-label\">Colors for</label>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\r\n\t\t\t\t\t\t<label class=\"form-check-label\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"radio\" name=\"colorsFor\" value=\"auto\" [(ngModel)]=\"colorsFor\" /> Auto\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\r\n\t\t\t\t\t\t<label class=\"form-check-label\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"radio\" name=\"colorsFor\" value=\"series\" [(ngModel)]=\"colorsFor\" /> Series\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\r\n\t\t\t\t\t\t<label class=\"form-check-label\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"radio\" name=\"colorsFor\" value=\"data\" [(ngModel)]=\"colorsFor\" /> Data\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\r\n\t\t\t\t\t\t<label class=\"form-check-label\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"radio\" name=\"colorsFor\" value=\"none\" [(ngModel)]=\"colorsFor\" /> None\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"form-check col-lg-3\">\r\n\t\t\t\t<label class=\"form-check-label d-flex align-items-center\">\r\n\t\t\t\t\t<input class=\"form-check-input mt-0\" type=\"checkbox\" [(ngModel)]=\"timeScale\" (change)=\"scaleChanged()\" [disabled]=\"type !== 'line'\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span>Time scale</span>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-check col-lg-3\">\r\n\t\t\t\t<label class=\"form-check-label d-flex align-items-center\">\r\n\t\t\t\t\t<input class=\"form-check-input mt-0\" type=\"checkbox\" [(ngModel)]=\"currencyMode\" />\r\n\t\t\t\t\t<span>Currency mode</span>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-check col-lg-6\">\r\n\t\t\t\t<label class=\"col-form-label\">Show percentage</label>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\r\n\t\t\t\t\t\t<label class=\"form-check-label\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"radio\" name=\"showPercentage\" [value]=\"false\" [(ngModel)]=\"showPercentage\" /> False\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\r\n\t\t\t\t\t\t<label class=\"form-check-label\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"radio\" name=\"showPercentage\" [value]=\"true\" [(ngModel)]=\"showPercentage\" /> True\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\r\n\t\t\t\t\t\t<label class=\"form-check-label\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" type=\"radio\" name=\"showPercentage\" value=\"only\" [(ngModel)]=\"showPercentage\" /> Only\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<button (click)=\"addData()\" class=\"btn btn-default mb-1\">Add data point</button>\r\n\t\t<button (click)=\"removeData()\" class=\"btn btn-default mb-1\">Remove data point</button>\r\n\t\t<button (click)=\"addSeries()\" class=\"btn btn-default mb-1\">Add data series</button>\r\n\t\t<button (click)=\"removeSeries()\" class=\"btn btn-default mb-1\">Remove data series</button>\r\n\t</div>\r\n\t<div class=\"col-lg-6\">\r\n\t\t<div class=\"form-group\">\r\n\t\t\t<label class=\"col-form-label\">Datasets</label>\r\n\t\t\t<pre class=\"form-control pre-scrollable\"><code>{{datasets | json}}</code></pre>\r\n\t\t</div>\r\n\t\t<div class=\"form-group\">\r\n\t\t\t<label class=\"col-form-label\">Labels</label>\r\n\t\t\t<pre class=\"form-control pre-scrollable\"><code>{{labels | json}}</code></pre>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"col\">\r\n\t\t<div class=\"form-group\">\r\n\t\t\t<label class=\"col-form-label\">Template code</label>\r\n\t\t\t<pre class=\"form-control pre-scrollable\"><code>{{sampleTemplate}}</code></pre>\r\n\t\t</div>\r\n\r\n\t</div>\r\n</div>","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { ChartsModule } from 'ezy-chart';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n\tdeclarations: [AppComponent],\r\n\timports: [BrowserModule, CommonModule, FormsModule, ChartsModule],\r\n\tproviders: [],\r\n\tbootstrap: [AppComponent]\r\n})\r\nexport class AppModule {}\r\n","/**\r\n * @internal\r\n */\r\nconst DEFAULT_COLORS = [\r\n\t[236, 64, 122],\r\n\t[92, 107, 192],\r\n\t[38, 198, 218],\r\n\t[255, 238, 88],\r\n\t[156, 204, 101],\r\n\t[0, 102, 204],\r\n\t[102, 153, 204],\r\n\t[102, 0, 204],\r\n\t[204, 102, 204],\r\n\t[204, 255, 204],\r\n\t[255, 0, 102],\r\n\t[255, 99, 132],\r\n\t[54, 162, 235],\r\n\t[255, 206, 86],\r\n\t[151, 187, 205],\r\n\t[220, 220, 220],\r\n\t[247, 70, 74],\r\n\t[70, 191, 189],\r\n\t[253, 180, 92],\r\n\t[148, 159, 177],\r\n\t[77, 83, 96],\r\n\t[230, 25, 75],\r\n\t[60, 180, 75],\r\n\t[255, 225, 25],\r\n\t[0, 130, 200],\r\n\t[245, 130, 48],\r\n\t[145, 30, 180],\r\n\t[70, 240, 240],\r\n\t[240, 50, 230],\r\n\t[210, 245, 60],\r\n\t[250, 190, 190],\r\n\t[0, 128, 128],\r\n\t[230, 190, 255],\r\n\t[170, 110, 40],\r\n\t[255, 250, 200],\r\n\t[128, 0, 0],\r\n\t[170, 255, 195],\r\n\t[128, 128, 0],\r\n\t[255, 215, 180],\r\n\t[0, 0, 128],\r\n\t[128, 128, 128],\r\n];\r\n\r\n/**\r\n * @internal\r\n */\r\nexport interface ColorGroup {\r\n\tbackgroundColor?: Chart.ChartColor;\r\n\tborderColor?: Chart.ChartColor;\r\n\r\n\tpointBackgroundColor?: Chart.ChartColor;\r\n\tpointBorderColor?: Chart.ChartColor;\r\n\tpointHoverBackgroundColor?: Chart.ChartColor;\r\n\tpointHoverBorderColor?: Chart.ChartColor;\r\n\thoverBackgroundColor?: Chart.ChartColor;\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function replaceDefaultColors(colors: number[][]) {\r\n\t(colors || []).forEach((a, i) => (DEFAULT_COLORS[i] = a));\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction generateColors(definedColors: string[], totalNum: number): number[][] {\r\n\tlet defaultIdx = 0;\r\n\tconst colors: number[][] = [];\r\n\tif (definedColors.length < totalNum) {\r\n\t\tdefinedColors = [...definedColors, ...new Array<string>(totalNum - definedColors.length)];\r\n\t}\r\n\tdefinedColors.forEach((val) => {\r\n\t\tlet col = parseColor(val);\r\n\t\tif (!col) {\r\n\t\t\tcol = DEFAULT_COLORS[defaultIdx++] || getRandomColor();\r\n\t\t}\r\n\t\tcolors.push(col);\r\n\t});\r\n\treturn colors;\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction parseColor(input: string): number[] | undefined {\r\n\tif (!input) {\r\n\t\treturn undefined;\r\n\t}\r\n\tlet m = input.match(/^#([0-9a-f]{6})$/i);\r\n\tif (m) {\r\n\t\treturn [parseInt(m[1].substr(0, 2), 16), parseInt(m[1].substr(2, 2), 16), parseInt(m[1].substr(4, 2), 16)];\r\n\t} else {\r\n\t\tm = input.match(/^#([0-9a-f]{3})$/i);\r\n\t\tif (m) {\r\n\t\t\treturn [\r\n\t\t\t\tparseInt(m[1].charAt(0), 16) * 0x11,\r\n\t\t\t\tparseInt(m[1].charAt(1), 16) * 0x11,\r\n\t\t\t\tparseInt(m[1].charAt(2), 16) * 0x11,\r\n\t\t\t];\r\n\t\t} else {\r\n\t\t\tm = input.match(/^rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/i);\r\n\t\t\tif (m) {\r\n\t\t\t\treturn [parseInt(m[1], 10), parseInt(m[2], 10), parseInt(m[3], 10)];\r\n\t\t\t} else {\r\n\t\t\t\tconsole.error('Color ' + input + ' could not be parsed.');\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function generateColorsAsStrings(definedColors: string[], totalNum: number): string[] {\r\n\treturn generateColors(definedColors, totalNum).map((c) => `rgba(${c[0]}, ${c[1]}, ${c[2]}, 0.8)`);\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction rgba(colour: number[], alpha: number): string {\r\n\treturn 'rgba(' + colour.concat(alpha).join(',') + ')';\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction getRandomInt(min: number, max: number): number {\r\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction getRandomColor() {\r\n\treturn [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction formatChartColorsForSeries(colors: number[][], type: string): ColorGroup[] {\r\n\treturn colors.map((color) => ({\r\n\t\thoverBackgroundColor: rgba(color, 0.6),\r\n\t\tbackgroundColor: rgba(color, 1),\r\n\t\tborderColor: type === 'line' ? rgba(color, 0.6) : 'rgba(255, 255, 255, 0.3)',\r\n\t\tpointBackgroundColor: rgba(color, 0.6),\r\n\t\tpointBorderColor: '#fff',\r\n\t\tpointHoverBackgroundColor: rgba(color, 1),\r\n\t\tpointHoverBorderColor: rgba(color, 0.8),\r\n\t}));\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function generateColorsBySeries(definedColors: string[], totalNum: number, type: string): ColorGroup[] {\r\n\treturn formatChartColorsForSeries(generateColors(definedColors || [], totalNum), type);\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction formatChartColorsForData(colors: number[][], type: string): ColorGroup {\r\n\treturn {\r\n\t\thoverBackgroundColor: colors.map((color) => rgba(color, 0.6)),\r\n\t\tbackgroundColor: colors.map((color) => rgba(color, 1)),\r\n\t\tborderColor: colors.map((color) => (type === 'line' ? rgba(color, 0.6) : 'rgba(255, 255, 255, 0.3)')),\r\n\t\tpointBackgroundColor: colors.map((color) => rgba(color, 1)),\r\n\t\tpointBorderColor: colors.map((color) => '#fff'),\r\n\t\tpointHoverBackgroundColor: colors.map((color) => rgba(color, 1)),\r\n\t\tpointHoverBorderColor: colors.map((color) => rgba(color, 0.8)),\r\n\t};\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function generateColorsByDataPoints(definedColors: string[], totalNum: number, type: string): ColorGroup {\r\n\treturn formatChartColorsForData(generateColors(definedColors || [], totalNum), type);\r\n}\r\n","import { CurrencyPipe, DecimalPipe, PercentPipe } from '@angular/common';\r\nimport moment from 'moment';\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function cloneDeep(item: any) {\r\n\tif (!item) {\r\n\t\treturn item;\r\n\t} // null, undefined values check\r\n\r\n\tconst types: any[] = [Number, String, Boolean];\r\n\tlet result: any;\r\n\r\n\t// normalizing primitives if someone did new String('aaa'), or new Number('444');\r\n\ttypes.forEach((type) => {\r\n\t\tif (item instanceof type) {\r\n\t\t\tresult = type(item);\r\n\t\t}\r\n\t});\r\n\r\n\tif (typeof result === 'undefined') {\r\n\t\tif (Object.prototype.toString.call(item) === '[object Array]') {\r\n\t\t\tresult = [];\r\n\t\t\titem.forEach((child, index, array) => {\r\n\t\t\t\tresult[index] = cloneDeep(child);\r\n\t\t\t});\r\n\t\t} else if (typeof item === 'object') {\r\n\t\t\t// testing that this is DOM\r\n\t\t\tif (item.nodeType && typeof item.cloneNode === 'function') {\r\n\t\t\t\tresult = item.cloneNode(true);\r\n\t\t\t} else if (!item.prototype) {\r\n\t\t\t\t// check that this is a literal\r\n\t\t\t\tif (item instanceof Date) {\r\n\t\t\t\t\tresult = new Date(item);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// it is an object literal\r\n\t\t\t\t\tresult = {};\r\n\t\t\t\t\t// tslint:disable-next-line: forin\r\n\t\t\t\t\tfor (const i in item) {\r\n\t\t\t\t\t\tresult[i] = cloneDeep(item[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// depending what you would like here,\r\n\t\t\t\t// just keep the reference, or create new object\r\n\t\t\t\tif (false && item.constructor) {\r\n\t\t\t\t\t// would not advice to do that, reason? Read below\r\n\t\t\t\t\tresult = new item.constructor();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = item;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tresult = item;\r\n\t\t}\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function isEqual(...args: any[]): boolean {\r\n\tlet i: number;\r\n\tlet l: number;\r\n\tlet leftChain: Array<any>;\r\n\tlet rightChain: Array<any>;\r\n\r\n\tfunction compare2Objects(x: any, y: any) {\r\n\t\tlet p: any;\r\n\r\n\t\t// remember that NaN === NaN returns false\r\n\t\t// and isNaN(undefined) returns true\r\n\t\tif (isNaN(x) && isNaN(y) && typeof x === 'number' && typeof y === 'number') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Compare primitives and functions.\r\n\t\t// Check if both arguments link to the same object.\r\n\t\t// Especially useful on the step where we compare prototypes\r\n\t\tif (x === y) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Works in case when functions are created in constructor.\r\n\t\t// Comparing dates is a common scenario. Another built-ins?\r\n\t\t// We can even handle functions passed across iframes\r\n\t\tif (\r\n\t\t\t(typeof x === 'function' && typeof y === 'function') ||\r\n\t\t\t(x instanceof Date && y instanceof Date) ||\r\n\t\t\t(x instanceof RegExp && y instanceof RegExp) ||\r\n\t\t\t(x instanceof String && y instanceof String) ||\r\n\t\t\t(x instanceof Number && y instanceof Number)\r\n\t\t) {\r\n\t\t\treturn x.toString() === y.toString();\r\n\t\t}\r\n\r\n\t\t// At last checking prototypes as good as we can\r\n\t\tif (!(x instanceof Object && y instanceof Object)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (x.isPrototypeOf(y) || y.isPrototypeOf(x)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (x.constructor !== y.constructor) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (x.prototype !== y.prototype) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// Check for infinitive linking loops\r\n\t\tif (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// Quick checking of one object being a subset of another.\r\n\t\t// todo: cache the structure of arguments[0] for performance\r\n\t\tfor (p in y) {\r\n\t\t\tif (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else if (typeof y[p] !== typeof x[p]) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// tslint:disable-next-line: forin\r\n\t\tfor (p in x) {\r\n\t\t\tif (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else if (typeof y[p] !== typeof x[p]) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tswitch (typeof x[p]) {\r\n\t\t\t\tcase 'object':\r\n\t\t\t\tcase 'function':\r\n\t\t\t\t\tleftChain.push(x);\r\n\t\t\t\t\trightChain.push(y);\r\n\r\n\t\t\t\t\tif (!compare2Objects(x[p], y[p])) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tleftChain.pop();\r\n\t\t\t\t\trightChain.pop();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tif (x[p] !== y[p]) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tif (args.length < 1) {\r\n\t\treturn true; // Die silently? Don't know how to handle such case, please help...\r\n\t}\r\n\r\n\tfor (i = 1, l = args.length; i < l; i++) {\r\n\t\tleftChain = []; // Todo: this can be cached\r\n\t\trightChain = [];\r\n\r\n\t\tif (!compare2Objects(arguments[0], arguments[i])) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\n/**\r\n * @internal\r\n *\r\n * @param n number to format\r\n * @param digitsInfo digits info\r\n * @param lessThanHint inaccuracy indicator\r\n * @param formatter the formatter\r\n * @returns formatted string\r\n */\r\nfunction formatNumber(\r\n\tn: number,\r\n\tdigitsInfo: string,\r\n\tlessThanHint: string,\r\n\tformatter: (v: number) => string,\r\n\tisPercentPipe?: boolean\r\n) {\r\n\tif (lessThanHint && digitsInfo) {\r\n\t\tconst accuracy = 1 / Math.pow(10, (isPercentPipe ? 2 : 0) + Number(digitsInfo.match(/\\.[0-9]+\\-([0-9]+)/)[1]));\r\n\t\tif (n < accuracy) {\r\n\t\t\treturn lessThanHint + formatter(accuracy);\r\n\t\t} else if (isPercentPipe) {\r\n\t\t\tconst h = formatter(1);\r\n\t\t\tconst s = formatter(n);\r\n\t\t\tif (n < 1 && h === s) {\r\n\t\t\t\treturn lessThanHint + h;\r\n\t\t\t} else {\r\n\t\t\t\treturn s;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn formatter(n);\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function formatPercentage(p: number, digitsInfo: string, lessThanHint?: string): string {\r\n\tconst pipe = new PercentPipe(moment.locale());\r\n\treturn formatNumber(p, digitsInfo, lessThanHint, (n) => pipe.transform(n, digitsInfo), true);\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function formatScale(val: any, currency: string) {\r\n\tlet n = Number(val);\r\n\tif (n === 0) {\r\n\t\treturn '0';\r\n\t}\r\n\tlet base = '';\r\n\tif (n >= 1000) {\r\n\t\tn = n / 1000;\r\n\t\tbase = 'K';\r\n\t}\r\n\tif (n >= 1000) {\r\n\t\tn = n / 1000;\r\n\t\tbase = 'M';\r\n\t}\r\n\treturn (formatMoney(n, currency, undefined) || '').replace(/\\.0+?$/, '') + base;\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function formatMoney(val: any, currency: string, digitInfo?: string, lessThanHint?: string) {\r\n\tif (val && currency) {\r\n\t\tconst pipe = new CurrencyPipe(moment.locale());\r\n\t\treturn formatNumber(val, digitInfo, lessThanHint, (n) =>\r\n\t\t\tpipe.transform(n, currency, 'symbol-narrow', digitInfo)\r\n\t\t);\r\n\t}\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function formatDecimal(p: number, digitsInfo: string, lessThanHint?: string): string {\r\n\tconst pipe = new DecimalPipe(moment.locale());\r\n\treturn formatNumber(p, digitsInfo, lessThanHint, (n) => pipe.transform(n, digitsInfo));\r\n}\r\n","import { Input, NgZone, OnDestroy, DoCheck, Directive } from '@angular/core';\r\nimport { Subscription, fromEvent } from 'rxjs';\r\nimport { cloneDeep, isEqual } from './utils';\r\n\r\nexport type ColorsForType = 'auto' | 'series' | 'data' | 'none';\r\n\r\nexport type LegendType = Chart.ChartLegendOptions | 'auto' | boolean | Chart.PositionType;\r\n\r\nexport type ShowPercentageType = boolean | 'only';\r\n\r\n/**\r\n * @internal\r\n */\r\nexport interface ChartParameters {\r\n\ttype?: string;\r\n\tlabels?: string[];\r\n\tdatasets?: Chart.ChartDataSets[];\r\n\tcolors?: string[];\r\n\tcolorsFor?: ColorsForType;\r\n\tratio?: number;\r\n\tlegend?: LegendType;\r\n\toptions?: Chart.ChartOptions;\r\n\tcurrency?: string;\r\n\ttimeFormat?: string;\r\n\tpercentage?: ShowPercentageType;\r\n\tdigits?: string;\r\n\tpercentDigits?: string;\r\n\tlessThanHint?: string;\r\n}\r\n\r\n@Directive()\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport abstract class BaseChart implements OnDestroy, DoCheck {\r\n\tprivate _params: ChartParameters = {};\r\n\tprivate _prevParams: ChartParameters = {};\r\n\r\n\tprivate _debounceTimer: any;\r\n\tprivate _wndEvSubs: Subscription;\r\n\tprivate _resized: boolean;\r\n\r\n\t/**\r\n\t * An array of strings, corresponding to Chart.ChartConfiguration.data.labels\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset labels(l: string[] | undefined) {\r\n\t\tthis._params.labels = l;\r\n\t}\r\n\r\n\tget labels(): string[] | undefined {\r\n\t\treturn this._params.labels;\r\n\t}\r\n\r\n\t/**\r\n\t * The chart type, corresponding to Chart.ChartConfiguration.type\r\n\t * @default 'bar'\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset type(t: string | undefined) {\r\n\t\tthis._params.type = t;\r\n\t}\r\n\r\n\tget type(): string | undefined {\r\n\t\treturn this._params.type;\r\n\t}\r\n\r\n\t/**\r\n\t * An array of Chart.ChartDataSets, corresponding to Chart.ChartConfiguration.data.datasets\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset datasets(ds: Chart.ChartDataSets[] | any) {\r\n\t\tthis._params.datasets = ds;\r\n\t}\r\n\r\n\tget datasets(): Chart.ChartDataSets[] | any {\r\n\t\treturn this._params.datasets;\r\n\t}\r\n\r\n\t/**\r\n\t * An array of strings in hex, rgb, or rgba format, to define the base colors of datasets, or the data points of each dataset. If this\r\n\t * property is absent, or the colors defined are less than the number of datasets (or the data points of each dataset), the missing\r\n\t * colors will be assigned from the default palette\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset colors(c: string[] | undefined) {\r\n\t\tthis._params.colors = c;\r\n\t}\r\n\r\n\tget colors(): string[] | undefined {\r\n\t\treturn this._params.colors;\r\n\t}\r\n\r\n\t/**\r\n\t * Specify what the colors (either defined or generated) are for.\r\n\t *  * 'series' - each color corresponds to a dataset\r\n\t *  * 'data' - each color corresponds to a data point of each dataset\r\n\t *  * 'auto' - use 'series' for chart types 'bar', 'horizontalBar' and 'line'; and use 'data' for other chart types\r\n\t *  * 'none' - turn off the color generator. Use this value if colors are specified via #options\r\n\t * @default 'auto'\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset colorsFor(cf: ColorsForType | undefined) {\r\n\t\tthis._params.colorsFor = cf;\r\n\t}\r\n\r\n\tget colorsFor(): ColorsForType | undefined {\r\n\t\treturn this._params.colorsFor;\r\n\t}\r\n\r\n\t/**\r\n\t * The aspect ratio of the chart\r\n\t * @default 2\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset ratio(r: number | undefined) {\r\n\t\tthis._params.ratio = r;\r\n\t}\r\n\r\n\tget ratio(): number | undefined {\r\n\t\treturn this._params.ratio;\r\n\t}\r\n\r\n\t/**\r\n\t * Specify how to display the legend\r\n\t *  * if the value is a boolean, it corresponds to Chart.ChartConfiguration.options.legend.display\r\n\t *  * if the value is 'auto', the legend will be arranged automatically. For example, the legend will be hidden if the chart area is\r\n\t *    too small\r\n\t *  * if the value is of type Chart.ChartLegendOptions, it corresponds to Chart.ChartConfiguration.options.legend.position\r\n\t *  * if the value is of type Chart.ChartLegendOptions, it corresponds to Chart.ChartConfiguration.options.legend\r\n\t * @default 'auto'\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset legend(l: LegendType | undefined) {\r\n\t\tthis._params.legend = l;\r\n\t}\r\n\r\n\tget legend(): LegendType | undefined {\r\n\t\treturn this._params.legend;\r\n\t}\r\n\r\n\t/**\r\n\t * An ISO 4217 currency code. If specified, it will be used to format the scales of the main axis, as well as the values in the tooltips.\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset currency(curr: string | undefined) {\r\n\t\tthis._params.currency = curr;\r\n\t}\r\n\r\n\tget currency(): string | undefined {\r\n\t\treturn this._params.currency;\r\n\t}\r\n\r\n\t/**\r\n\t * The digit info of the output template, used to format numbers in scales. Please refer to https://angular.io/api/common/DecimalPipe\r\n\t * for its usage.\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset digits(d: string | undefined) {\r\n\t\tthis._params.digits = d;\r\n\t}\r\n\r\n\tget digits(): string | undefined {\r\n\t\treturn this._params.digits;\r\n\t}\r\n\r\n\t/**\r\n\t * The digit info of the output template, used to format numbers in scales. Please refer to https://angular.io/api/common/DecimalPipe\r\n\t * for its usage.\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset percentDigits(d: string | undefined) {\r\n\t\tthis._params.percentDigits = d;\r\n\t}\r\n\r\n\tget percentDigits(): string | undefined {\r\n\t\treturn this._params.percentDigits;\r\n\t}\r\n\r\n\t/**\r\n\t * Corresponds to Chart.ChartConfiguration.options. This overrides any other settings.\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset options(opt: Chart.ChartOptions | undefined) {\r\n\t\tthis._params.options = opt;\r\n\t}\r\n\r\n\tget options(): Chart.ChartOptions | undefined {\r\n\t\treturn this._params.options;\r\n\t}\r\n\r\n\t/**\r\n\t * A moment.js format string. When specified, the X axis will be configured with time scales, and this value will be used to format the\r\n\t * tooltips.\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset timeFormat(tf: string | undefined) {\r\n\t\tthis._params.timeFormat = tf;\r\n\t}\r\n\r\n\tget timeFormat(): string | undefined {\r\n\t\treturn this._params.timeFormat;\r\n\t}\r\n\r\n\t/**\r\n\t * Specify whether to show the overall percentage values in the popover tooltips.\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset percentage(p: ShowPercentageType | undefined) {\r\n\t\tthis._params.percentage = p;\r\n\t}\r\n\r\n\tget percentage(): ShowPercentageType | undefined {\r\n\t\treturn this._params.percentage;\r\n\t}\r\n\r\n\t/**\r\n\t * Shows an approximate indicator when the decimal value is less than the minimal value that can be\r\n\t * accurately represented based on the digits info.\r\n\t *\r\n\t * @example 'less than ' => 'less than xx%'\r\n\t * @example '<' => '<xx%'\r\n\t *\r\n\t * @property\r\n\t */\r\n\t@Input()\r\n\tset lessThanHint(p: string | undefined) {\r\n\t\tthis._params.lessThanHint = p;\r\n\t}\r\n\r\n\tget lessThanHint(): string | undefined {\r\n\t\treturn this._params.lessThanHint;\r\n\t}\r\n\r\n\tget paramsChanged(): boolean {\r\n\t\treturn !isEqual(this._params, this._prevParams);\r\n\t}\r\n\r\n\tisParamChanged(property: keyof ChartParameters) {\r\n\t\treturn !isEqual(this._params[property], this._prevParams[property]);\r\n\t}\r\n\r\n\tresetParamsChangeState() {\r\n\t\tthis._prevParams = cloneDeep(this._params);\r\n\t}\r\n\r\n\tconstructor(protected _zone: NgZone) {\r\n\t\tthis._wndEvSubs = fromEvent(window, 'resize').subscribe(() => {\r\n\t\t\tthis._resized = true;\r\n\t\t\tthis._doCheck(500);\r\n\t\t});\r\n\t}\r\n\r\n\tngDoCheck(): void {\r\n\t\tif (!this._resized) {\r\n\t\t\tthis._doCheck(50);\r\n\t\t}\r\n\t}\r\n\r\n\tngOnDestroy(): void {\r\n\t\tthis._wndEvSubs.unsubscribe();\r\n\t\tthis._onDestroy();\r\n\t}\r\n\r\n\tprotected abstract _checkUpdate(resized: boolean);\r\n\tprotected abstract _onDestroy();\r\n\r\n\tprivate _doCheck(deferred: number): void {\r\n\t\tif (this._debounceTimer) {\r\n\t\t\tclearTimeout(this._debounceTimer as any);\r\n\t\t\tthis._debounceTimer = null;\r\n\t\t}\r\n\t\tthis._zone.runOutsideAngular(() => {\r\n\t\t\tthis._debounceTimer = setTimeout(() => {\r\n\t\t\t\tthis._checkUpdate(this._resized);\r\n\t\t\t\tthis._resized = false;\r\n\t\t\t}, deferred);\r\n\t\t});\r\n\t}\r\n}\r\n","import { Component, ChangeDetectionStrategy, Input, ElementRef, ViewChild, NgZone } from '@angular/core';\r\nimport { generateColorsBySeries, generateColorsByDataPoints } from './color.helpers';\r\nimport { cloneDeep, formatDecimal, formatMoney, formatPercentage, formatScale } from './utils';\r\nimport moment from 'moment';\r\nimport { BaseChart, ShowPercentageType, ColorsForType } from './base.chart';\r\n\r\n/**\r\n * @internal\r\n */\r\nconst MULTI_SERIES_BY_DEFAULT = ['line', 'bar', 'horizontalBar', 'radar'];\r\n\r\n/**\r\n * @internal\r\n */\r\nfunction getTooltipLabelCallBack(\r\n\tcurrency: string | undefined,\r\n\tpercentage: ShowPercentageType,\r\n\tdigitInfo: string | undefined,\r\n\tpercentDigitInfo: string | undefined,\r\n\tlessThanHint: string,\r\n\ttype: 'label' | 'afterLabel' | 'both'\r\n): Chart.ChartTooltipCallback['label'] | Chart.ChartTooltipCallback['afterLabel'] {\r\n\treturn (tooltipItem, data) => {\r\n\t\tconst labels: any[] = [];\r\n\t\tconst ds = data.datasets as Chart.ChartDataSets[];\r\n\t\tconst label = ds.length > 1 ? ds[tooltipItem.datasetIndex || 0].label || '' : '';\r\n\t\tif (label && type === 'both') {\r\n\t\t\tlabels.push(label);\r\n\t\t}\r\n\t\tif (type === 'label') {\r\n\t\t\treturn label;\r\n\t\t}\r\n\t\tconst dsData: (number | number[])[] | Chart.ChartPoint[] = ds[tooltipItem.datasetIndex || 0].data || [];\r\n\t\tconst point = dsData[tooltipItem.index || 0];\r\n\t\tconst value = typeof point === 'number' ? point : Array.isArray(point) ? point[0] : point.y;\r\n\r\n\t\tif (percentage !== 'only') {\r\n\t\t\tif (currency) {\r\n\t\t\t\tlabels.push(formatMoney(value, currency, digitInfo, lessThanHint));\r\n\t\t\t} else if (digitInfo && typeof value === 'number') {\r\n\t\t\t\tlabels.push(formatDecimal(value, digitInfo, lessThanHint));\r\n\t\t\t} else {\r\n\t\t\t\tlabels.push(tooltipItem.yLabel || value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (percentage) {\r\n\t\t\tconst perc = typeof value === 'number' ? value : 0;\r\n\t\t\tconst total = (dsData as any[]).reduce((p, d) => p + (typeof d === 'number' ? d : (d.y as number)), 0);\r\n\t\t\tlabels.push(\r\n\t\t\t\tformatPercentage(total ? perc / total : 0, percentDigitInfo || digitInfo || '1.0-2', lessThanHint)\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn labels.join(' : ');\r\n\t};\r\n}\r\n\r\nfunction splitWords(text: string, maxLength: number) {\r\n\tconst words: string[] = [];\r\n\tlet word = '';\r\n\ttext.split(' ').forEach((w) => {\r\n\t\tword = [word, w].join(' ');\r\n\t\tif (word.length > maxLength) {\r\n\t\t\twords.push(word);\r\n\t\t\tword = '';\r\n\t\t}\r\n\t});\r\n\tif (word) {\r\n\t\twords.push(word);\r\n\t}\r\n\treturn words;\r\n}\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function getTooltipTitleCallBack(horizontal?: boolean): Chart.ChartTooltipCallback['title'] {\r\n\treturn (tooltipItems, data) => {\r\n\t\t// Pick first xLabel for now\r\n\t\tlet title = '';\r\n\t\tconst labels = data.labels || [];\r\n\t\tconst labelCount = labels.length;\r\n\r\n\t\tif (tooltipItems.length > 0) {\r\n\t\t\tconst item = tooltipItems[0];\r\n\r\n\t\t\tif (item.xLabel || (horizontal && item.yLabel)) {\r\n\t\t\t\ttitle = ((horizontal ? item.yLabel : item.xLabel) as string) || '';\r\n\t\t\t} else if ((labelCount > 0 && item.index) || 0 < labelCount) {\r\n\t\t\t\ttitle = labels[item.index || 0] as string;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn splitWords(title, 15);\r\n\t};\r\n}\r\n\r\ndeclare const Chart: any;\r\nif (typeof Chart !== 'undefined') {\r\n\tChart.pluginService.register({\r\n\t\tafterEvent: (chartInstance: Chart, chartEvent: MouseEvent) => {\r\n\t\t\tconst legend = (chartInstance as any).legend;\r\n\t\t\tconst canvas = chartInstance.canvas;\r\n\t\t\tconst x = chartEvent.x;\r\n\t\t\tconst y = chartEvent.y;\r\n\t\t\tlet cursorStyle = 'default';\r\n\t\t\tif (x <= legend.right && x >= legend.left && y <= legend.bottom && y >= legend.top) {\r\n\t\t\t\tfor (const box of legend.legendHitBoxes) {\r\n\t\t\t\t\tif (x <= box.left + box.width && x >= box.left && y <= box.top + box.height && y >= box.top) {\r\n\t\t\t\t\t\tcursorStyle = 'pointer';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (canvas) {\r\n\t\t\t\tcanvas.style.cursor = cursorStyle;\r\n\t\t\t}\r\n\t\t},\r\n\t});\r\n}\r\n\r\n@Component({\r\n\tselector: 'ezy-chart',\r\n\ttemplate: ` <div #chartContainer></div> `,\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class ChartComponent extends BaseChart {\r\n\t@Input()\r\n\tplugins: any[];\r\n\r\n\tprivate _config: Chart.ChartConfiguration = {};\r\n\tprivate _prevConfig: Chart.ChartConfiguration = {};\r\n\r\n\tprivate _chart: Chart;\r\n\r\n\t@ViewChild('chartContainer', { read: ElementRef, static: true })\r\n\tprivate _chartContainer: ElementRef;\r\n\r\n\tconstructor(zone: NgZone) {\r\n\t\tsuper(zone);\r\n\t}\r\n\r\n\tprotected _onDestroy() {\r\n\t\tif (this._chart) {\r\n\t\t\tthis._chart.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected _checkUpdate(resized: boolean) {\r\n\t\tlet dataOrParamsChanged = false;\r\n\t\tif (this.paramsChanged) {\r\n\t\t\tthis._applyConfig();\r\n\t\t\tdataOrParamsChanged = true;\r\n\t\t}\r\n\r\n\t\tdataOrParamsChanged =\r\n\t\t\tdataOrParamsChanged || JSON.stringify(this._config.data) !== JSON.stringify(this._prevConfig.data);\r\n\t\tlet configChanged: boolean =\r\n\t\t\tJSON.stringify(this._config.options) !== JSON.stringify(this._prevConfig.options) ||\r\n\t\t\tthis._config.type !== this._prevConfig.type;\r\n\r\n\t\tconfigChanged = configChanged || this.isParamChanged('colorsFor');\r\n\r\n\t\tconfigChanged = configChanged || this.isParamChanged('colors');\r\n\t\tconfigChanged = configChanged || this.isParamChanged('percentage');\r\n\t\tconfigChanged = configChanged || this.isParamChanged('currency');\r\n\t\tconfigChanged = configChanged || this.isParamChanged('timeFormat');\r\n\r\n\t\tif (dataOrParamsChanged || configChanged) {\r\n\t\t\tthis._refresh(configChanged);\r\n\t\t\tthis._checkSize();\r\n\t\t} else if (resized) {\r\n\t\t\tthis._checkSize();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _refresh(configChanged: boolean) {\r\n\t\tthis._prevConfig = cloneDeep(this._config);\r\n\t\tthis.resetParamsChangeState();\r\n\r\n\t\tif (configChanged || !this._chart) {\r\n\t\t\tif (this._chart) {\r\n\t\t\t\tthis._chart.destroy();\r\n\t\t\t}\r\n\t\t\tconst cfg = cloneDeep(this._prevConfig);\r\n\t\t\tthis._applyColors(this.colors || [], this.colorsFor || 'auto', (cfg.data || {}).datasets || []);\r\n\t\t\tthis._createNewChart(cfg);\r\n\t\t} else {\r\n\t\t\tthis._chart.config.data = cloneDeep(this._config.data || {});\r\n\t\t\tthis._applyColors(this.colors || [], this.colorsFor || 'auto', this._chart.config.data.datasets || []);\r\n\t\t\tthis._chart.update();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _createNewChart(cfg: Chart.ChartConfiguration) {\r\n\t\tthis._zone.runOutsideAngular(() => {\r\n\t\t\tconst container: HTMLElement = this._chartContainer.nativeElement;\r\n\t\t\tconst nodes = container.getElementsByTagName('canvas');\r\n\t\t\tif (nodes.length) {\r\n\t\t\t\tcontainer.removeChild(nodes.item(0));\r\n\t\t\t}\r\n\t\t\tconst canvas = document.createElement('canvas');\r\n\t\t\tcontainer.appendChild(canvas);\r\n\t\t\t(cfg as any).plugins = this.plugins;\r\n\t\t\tthis._chart = new Chart(canvas, cfg);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate _checkSize() {\r\n\t\tif (!this._chart) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst cfg = this._chart.config;\r\n\t\tconst width = this._chart.chartArea.right - this._chart.chartArea.left;\r\n\t\tconst height = this._chart.chartArea.bottom - this._chart.chartArea.top;\r\n\t\tconst legendOpt = (cfg.options || {}).legend || {};\r\n\t\tif ((this.legend || 'auto') === 'auto') {\r\n\t\t\tif ((width < 140 || height < 140) && legendOpt.display) {\r\n\t\t\t\tthis._chart.destroy();\r\n\t\t\t\tlegendOpt.display = false;\r\n\t\t\t\tthis._createNewChart(cfg);\r\n\t\t\t} else if (\r\n\t\t\t\twidth > 150 &&\r\n\t\t\t\theight > 150 &&\r\n\t\t\t\t!legendOpt.display &&\r\n\t\t\t\tthis._config.options.legend &&\r\n\t\t\t\tthis._config.options.legend.display\r\n\t\t\t) {\r\n\t\t\t\tthis._refresh(true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _applyConfig() {\r\n\t\tconst multiType: boolean = MULTI_SERIES_BY_DEFAULT.indexOf(this.type || 'bar') >= 0;\r\n\r\n\t\tthis._config.type = this.type || 'bar';\r\n\t\tthis._config.options = this._config.options || {};\r\n\t\tthis._config.options.legend = this._config.options.legend || {};\r\n\t\tthis._config.data = this._config.data || {};\r\n\t\tconst ds: Chart.ChartDataSets[] = (this._config.data.datasets = cloneDeep(this.datasets || []));\r\n\r\n\t\tif (!ds.some((d) => (d.label ? true : false))) {\r\n\t\t\tif (multiType) {\r\n\t\t\t\tthis._config.options.legend.display = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst labels = (this._config.data.labels = cloneDeep(this.labels || []));\r\n\r\n\t\t((this._config.options || {}) as any).aspectRatio = this.ratio || 2;\r\n\r\n\t\tconst legend = this.legend === false ? false : this.legend || 'auto';\r\n\t\tif (typeof legend === 'string' && ['top', 'right', 'bottom', 'left'].indexOf(legend) >= 0) {\r\n\t\t\tthis._config.options.legend.position = legend as Chart.PositionType;\r\n\t\t} else if (typeof legend === 'boolean') {\r\n\t\t\tthis._config.options.legend.display = legend;\r\n\t\t} else if (typeof legend === 'object') {\r\n\t\t\tthis._config.options.legend = cloneDeep(legend) as Chart.ChartLegendOptions;\r\n\t\t} else if (legend === 'auto') {\r\n\t\t\tconst multiPoints: boolean = ds.every((d) => (d.data || []).length > 1);\r\n\t\t\tthis._config.options.legend.display = (multiType && ds.length > 1) || (multiPoints && !multiType);\r\n\t\t\tthis._config.options.legend.position = multiType && this.type !== 'radar' ? 'top' : 'right';\r\n\t\t}\r\n\r\n\t\tthis._config.options.scales = {};\r\n\t\tif (this.currency) {\r\n\t\t\tconst curr = this.currency;\r\n\t\t\tif (multiType) {\r\n\t\t\t\tconst axes: Chart.CommonAxe = {\r\n\t\t\t\t\tticks: { callback: (val) => formatScale(val, curr) },\r\n\t\t\t\t};\r\n\t\t\t\tif (\r\n\t\t\t\t\tds.every((d) =>\r\n\t\t\t\t\t\tthis._isYAxisAllNumbers(\r\n\t\t\t\t\t\t\tArray.isArray(d.data) ? d.data : typeof d.data === 'number' ? [d.data] : []\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tif (this.type !== 'horizontalBar') {\r\n\t\t\t\t\t\tthis._config.options.scales.yAxes = [axes];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._config.options.scales.xAxes = [axes];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet timeScaleConfigured = false;\r\n\r\n\t\tthis._config.options.tooltips = this._config.options.tooltips || {};\r\n\r\n\t\tif (this.type === 'line') {\r\n\t\t\tconst isTimeScale = ds.every((d) =>\r\n\t\t\t\t((d.data as Chart.ChartPoint[]) || []).every((item) => (item.x ? moment(item.x).isValid() : false))\r\n\t\t\t);\r\n\t\t\tif (isTimeScale) {\r\n\t\t\t\tthis._config.options.scales = this._config.options.scales || {};\r\n\t\t\t\tlet minTime: moment.Moment;\r\n\t\t\t\tds.reduce((p, c) => [...p, ...(c.data as Chart.ChartPoint[])], [])\r\n\t\t\t\t\t.map((p) => moment(p.x))\r\n\t\t\t\t\t.forEach((m) => {\r\n\t\t\t\t\t\tif (!minTime || minTime.isAfter(m)) {\r\n\t\t\t\t\t\t\tminTime = m;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\tds.every((d) =>\r\n\t\t\t\t\t((d.data as Chart.ChartPoint[]) || []).every((item) => (item.x ? moment(item.x).isValid() : false))\r\n\t\t\t\t);\r\n\t\t\t\tthis._config.options.scales.xAxes = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'time',\r\n\t\t\t\t\t\ttime: {\r\n\t\t\t\t\t\t\ttooltipFormat: this.timeFormat || 'L',\r\n\t\t\t\t\t\t\tmin: minTime ? minTime.toISOString() : undefined,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t];\r\n\t\t\t\ttimeScaleConfigured = true;\r\n\t\t\t}\r\n\t\t\tthis._config.options.tooltips.mode = 'index';\r\n\t\t\tthis._config.options.tooltips.intersect = false;\r\n\t\t} else {\r\n\t\t\tthis._config.options.tooltips.mode = 'nearest';\r\n\t\t\tthis._config.options.tooltips.intersect = true;\r\n\t\t}\r\n\r\n\t\tif (ds.length === 0 || (ds[0].data || []).length === 0) {\r\n\t\t} else if ((ds[0].data || []).length > labels.length && !timeScaleConfigured) {\r\n\t\t\tconsole.warn('ezy-chart: wrong number of labels. ');\r\n\t\t}\r\n\r\n\t\tif (!this._config.options.scales || Object.keys(this._config.options.scales).length === 0) {\r\n\t\t\tconst opt: any = {};\r\n\t\t\tObject.keys(this._config.options || {})\r\n\t\t\t\t.filter((k) => k !== 'scales')\r\n\t\t\t\t.forEach((k) => (opt[k] = this._config.options[k]));\r\n\t\t\tthis._config.options = opt;\r\n\t\t}\r\n\r\n\t\tconst splitLabel: boolean = (this.type === 'pie' || this.type === 'doughnut') && ds.length > 1;\r\n\t\tthis._config.options.tooltips.callbacks = this._config.options.tooltips.callbacks || {};\r\n\t\tthis._config.options.tooltips.callbacks.label = getTooltipLabelCallBack(\r\n\t\t\tthis.currency,\r\n\t\t\tthis.percentage || false,\r\n\t\t\tthis.digits,\r\n\t\t\tthis.percentDigits,\r\n\t\t\tthis.lessThanHint,\r\n\t\t\tsplitLabel ? 'label' : 'both'\r\n\t\t);\r\n\t\tif (splitLabel) {\r\n\t\t\tthis._config.options.tooltips.callbacks.afterLabel = getTooltipLabelCallBack(\r\n\t\t\t\tthis.currency,\r\n\t\t\t\tthis.percentage || false,\r\n\t\t\t\tthis.digits,\r\n\t\t\t\tthis.percentDigits,\r\n\t\t\t\tthis.lessThanHint,\r\n\t\t\t\t'afterLabel'\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tthis._config.options.tooltips.callbacks.afterLabel = () => '';\r\n\t\t}\r\n\t\tthis._config.options.tooltips.callbacks.title = getTooltipTitleCallBack(this.type === 'horizontalBar');\r\n\r\n\t\tif (this.options) {\r\n\t\t\tObject.keys(this.options).forEach((k) => {\r\n\t\t\t\tif (this.options[k] || this.options[k] === 0) {\r\n\t\t\t\t\tthis._config.options[k] = this.options[k];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _isYAxisAllNumbers(data: Array<Chart.ChartPoint | number | number[]>): boolean {\r\n\t\treturn data.every((d) => !d || typeof d === 'number' || (!Array.isArray(d) && typeof d.y === 'number'));\r\n\t}\r\n\r\n\tprivate _applyColors(colors: string[], colorsFor: ColorsForType, datasets: Chart.ChartDataSets[]) {\r\n\t\tif (colorsFor === 'auto') {\r\n\t\t\tif (MULTI_SERIES_BY_DEFAULT.indexOf(this.type || 'bar') >= 0) {\r\n\t\t\t\tcolorsFor = 'series';\r\n\t\t\t} else {\r\n\t\t\t\tcolorsFor = 'data';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (colorsFor === 'series') {\r\n\t\t\tconst colorGroups = generateColorsBySeries(colors, datasets.length, this.type || 'bar');\r\n\t\t\tdatasets.forEach((ds, i) => {\r\n\t\t\t\tObject.keys(colorGroups[i]).forEach((k) => (ds[k] = colorGroups[i][k]));\r\n\t\t\t});\r\n\t\t} else if (colorsFor === 'data') {\r\n\t\t\tfor (const ds of datasets) {\r\n\t\t\t\tconst colorGroup = generateColorsByDataPoints(colors, (ds.data || []).length, this.type || 'bar');\r\n\t\t\t\tObject.keys(colorGroup).forEach((k) => (ds[k] = colorGroup[k]));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import { BaseChart, ShowPercentageType } from './base.chart';\r\n\r\nimport { Component, ChangeDetectionStrategy, NgZone, ViewChild, ElementRef, ViewEncapsulation } from '@angular/core';\r\nimport { generateColorsAsStrings } from './color.helpers';\r\nimport { cloneDeep, formatDecimal, formatMoney, formatPercentage, formatScale } from './utils';\r\nimport moment from 'moment';\r\n\r\n@Component({\r\n\tselector: 'ezy-echart',\r\n\ttemplate: ` <div #chartContainer></div> `,\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n\tencapsulation: ViewEncapsulation.None,\r\n\tstyles: [\r\n\t\t`\r\n\t\t\t.ezy-echart-series-indicator {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tborder-radius: 10px;\r\n\t\t\t\tborder-width: 1px;\r\n\t\t\t\tborder-style: solid;\r\n\t\t\t\tborder-color: white;\r\n\t\t\t\twidth: 10px;\r\n\t\t\t\theight: 10px;\r\n\t\t\t}\r\n\t\t\t.ezy-echart-tooltip-item {\r\n\t\t\t\ttext-indent: -13px;\r\n\t\t\t\tpadding-left: 13px;\r\n\t\t\t}\r\n\t\t`,\r\n\t],\r\n})\r\nexport class EChartComponent extends BaseChart {\r\n\t@ViewChild('chartContainer', { read: ElementRef, static: true })\r\n\tprivate _chartContainer: ElementRef;\r\n\r\n\tprivate _chart: echarts.ECharts;\r\n\tprivate _echartsOptions: echarts.EChartOption = {};\r\n\r\n\tprivate _typeMap = {\r\n\t\tbar: 'bar',\r\n\t\thorizontalBar: 'bar',\r\n\t\tdoughnut: 'pie',\r\n\t\tpie: 'pie',\r\n\t\tline: 'line',\r\n\t};\r\n\r\n\tconstructor(zone: NgZone) {\r\n\t\tsuper(zone);\r\n\t}\r\n\r\n\tprotected async _checkUpdate(resized: boolean) {\r\n\t\tif (this._chartContainer && !this._chart) {\r\n\t\t\tthis._createChart();\r\n\t\t} else if (resized && !this.paramsChanged) {\r\n\t\t\tthis._recalculateSize();\r\n\t\t}\r\n\r\n\t\tif (this.paramsChanged) {\r\n\t\t\tthis._applyOptions();\r\n\t\t\tthis.resetParamsChangeState();\r\n\t\t\tthis._recalculateSize();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected _onDestroy() {\r\n\t\tif (this._chart && !this._chart.isDisposed()) {\r\n\t\t\tthis._chart.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _recalculateSize() {\r\n\t\tif (this._chartContainer) {\r\n\t\t\tconst div: HTMLDivElement = this._chartContainer.nativeElement;\r\n\t\t\tconst height = Math.max(div.clientWidth / (this.ratio || 2), 240);\r\n\t\t\tdiv.style.height = `${height}px`;\r\n\t\t\tif (this._chart) {\r\n\t\t\t\tthis._chart.resize();\r\n\t\t\t\tif (this._echartsOptions.legend) {\r\n\t\t\t\t\tconst opt: any = this._chart.getOption();\r\n\t\t\t\t\tif (div.clientWidth <= 240 || div.clientHeight <= 240) {\r\n\t\t\t\t\t\topt.legend = undefined;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\topt.legend = cloneDeep(this._echartsOptions.legend);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._chart.setOption(opt, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _createChart() {\r\n\t\tthis._chart = echarts.init(this._chartContainer.nativeElement);\r\n\t}\r\n\r\n\tprivate _applyOptions() {\r\n\t\tconst ds = this.datasets || [];\r\n\t\tthis._echartsOptions = {};\r\n\t\tconst mainType = this.type || 'bar';\r\n\t\tconst series: any[] = ds.map((v) => ({\r\n\t\t\tname: v.name || typeof v.label === 'string' ? v.label : '',\r\n\t\t\ttype: this._typeMap[v.type || mainType] || v.type || mainType,\r\n\t\t\tdata: (v.data || ([] as any[])).map((d) => this._mapDataItem(d, this.timeFormat)),\r\n\t\t}));\r\n\t\tconst isTime = series.some((s) => s.data.some((d) => d.name && moment(d.name).isValid()));\r\n\t\tconst labels = this.labels || [];\r\n\t\tconst timeAxis = [\r\n\t\t\t{\r\n\t\t\t\ttype: 'time',\r\n\t\t\t},\r\n\t\t];\r\n\t\tconst catAxis: Array<echarts.EChartOption.XAxis | echarts.EChartOption.YAxis> = [\r\n\t\t\t{ data: labels, type: 'category' },\r\n\t\t];\r\n\t\tconst valAxis: Array<echarts.EChartOption.XAxis | echarts.EChartOption.YAxis> = [{ type: 'value' }];\r\n\t\tconst tooltip: any = {\r\n\t\t\taxisPointer: {\r\n\t\t\t\ttype: 'shadow',\r\n\t\t\t},\r\n\t\t};\r\n\t\ttooltip.formatter = this._formatTooltip.bind(\r\n\t\t\tthis,\r\n\t\t\tthis.currency,\r\n\t\t\tthis.percentage,\r\n\t\t\tthis.digits,\r\n\t\t\tthis.percentDigits,\r\n\t\t\tthis.lessThanHint\r\n\t\t);\r\n\t\tif (this.currency) {\r\n\t\t\tvalAxis[0].axisLabel = { formatter: (value) => formatScale(value, this.currency) };\r\n\t\t}\r\n\t\tthis._echartsOptions = {\r\n\t\t\tseries,\r\n\t\t\ttooltip,\r\n\t\t};\r\n\r\n\t\tif (mainType === 'horizontalBar') {\r\n\t\t\tthis._echartsOptions.yAxis = catAxis as echarts.EChartOption.YAxis[];\r\n\t\t\tthis._echartsOptions.xAxis = valAxis as echarts.EChartOption.XAxis[];\r\n\t\t\tthis._echartsOptions.tooltip['trigger'] = 'axis';\r\n\t\t} else if (mainType === 'line' || mainType === 'bar') {\r\n\t\t\tthis._echartsOptions.xAxis = (isTime ? timeAxis : catAxis) as echarts.EChartOption.XAxis[];\r\n\t\t\tthis._echartsOptions.yAxis = valAxis as echarts.EChartOption.YAxis[];\r\n\t\t\tthis._echartsOptions.tooltip['trigger'] = 'axis';\r\n\t\t} else if (this._typeMap[mainType] === 'pie') {\r\n\t\t\tthis._definePieShape(series, labels, mainType === 'doughnut');\r\n\t\t}\r\n\r\n\t\tif (this.legend !== false) {\r\n\t\t\tthis._echartsOptions.legend = this._generateLegendOptions(\r\n\t\t\t\tseries.length > 1,\r\n\t\t\t\tthis._typeMap[mainType] === 'pie'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tthis._defineColors(series, this._typeMap[mainType] === 'pie');\r\n\r\n\t\tconst opt = cloneDeep(this._echartsOptions || {});\r\n\t\tObject.keys(this.options || {}).forEach((k) => {\r\n\t\t\tif (this.options[k] || this.options[k] === 0) {\r\n\t\t\t\topt[k] = this.options[k];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis._chart.setOption(opt, true);\r\n\t}\r\n\r\n\tprivate _mapDataItem(item: any, timeFormat: string): any {\r\n\t\tif (typeof item === 'number') {\r\n\t\t\treturn { value: item };\r\n\t\t}\r\n\t\tif (!item) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tif (item.x && moment(item.x).isValid() && typeof item.y === 'number') {\r\n\t\t\tconst m = moment(item.x);\r\n\t\t\treturn {\r\n\t\t\t\tname: moment(item.x).format(timeFormat || 'L'),\r\n\t\t\t\tvalue: [`${m.get('year')}-${m.get('month')}-${m.get('day')}`, item.y],\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn item;\r\n\t}\r\n\r\n\tprivate _definePieShape(series: any[], labels: string[], makeDoughnut: boolean) {\r\n\t\tlet r = 0;\r\n\t\tlet step = 80;\r\n\t\tif (makeDoughnut) {\r\n\t\t\tr = 40;\r\n\t\t}\r\n\t\tstep = (80 - r) / series.length;\r\n\t\tseries.forEach((s) => {\r\n\t\t\ts.data.forEach((d, i) => (d.name = labels[i]));\r\n\t\t\ts.radius = [`${r}%`, `${r + step - 1}%`];\r\n\t\t\tr = r + step;\r\n\t\t\ts.label = {\r\n\t\t\t\tnormal: {\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\tposition: 'center',\r\n\t\t\t\t},\r\n\t\t\t\temphasis: {\r\n\t\t\t\t\tshow: makeDoughnut ? true : false,\r\n\t\t\t\t\ttextShadowColor: 'grey',\r\n\t\t\t\t\ttextShadowOffsetY: 1,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t\ts['avoidLabelOverlap'] = false;\r\n\t\t});\r\n\t}\r\n\r\n\tprivate _defineColors(series: any[], pieLike: boolean) {\r\n\t\tlet cf = this.colorsFor || 'auto';\r\n\t\tif (cf === 'auto') {\r\n\t\t\tif (pieLike) {\r\n\t\t\t\tcf = 'data';\r\n\t\t\t} else {\r\n\t\t\t\tcf = 'series';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (cf === 'series') {\r\n\t\t\tconst colors = generateColorsAsStrings(this.colors || [], series.length);\r\n\t\t\tseries.forEach((s, i) => (s['color'] = colors[i]));\r\n\t\t} else if (cf === 'data') {\r\n\t\t\tseries.forEach((s) => {\r\n\t\t\t\tconst colors = generateColorsAsStrings(this.colors || [], s.data.length);\r\n\t\t\t\ts.data.forEach((d, i) => (d.itemStyle = { color: colors[i] }));\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _formatTooltip(\r\n\t\tcurrencyCode: string,\r\n\t\tpercent: ShowPercentageType,\r\n\t\tdigitInfo: string,\r\n\t\tpercentDigitInfo: string,\r\n\t\tlessThanHint: string,\r\n\t\tparam: any\r\n\t) {\r\n\t\tconst formatParam = (p) => {\r\n\t\t\tlet l = `<div class=\"ezy-echart-tooltip-item\"><span class=\"ezy-echart-series-indicator\" style=\"background-color: ${p.color}\"></span>\r\n\t\t\t ${p.seriesName}: `;\r\n\t\t\tconst percentOnly: boolean = percent === 'only' && p.percent;\r\n\t\t\tconst showPercent: boolean = percent && p.percent;\r\n\t\t\tconst v = Array.isArray(p.data.value) ? p.data.value[1] : p.data.value;\r\n\r\n\t\t\tif (!percentOnly) {\r\n\t\t\t\tif (currencyCode) {\r\n\t\t\t\t\tl += formatMoney(v, currencyCode, digitInfo, lessThanHint);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tl += formatDecimal(v, digitInfo, lessThanHint);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (showPercent) {\r\n\t\t\t\tl += `<span> ${formatPercentage(\r\n\t\t\t\t\tp.percent / 100,\r\n\t\t\t\t\tpercentDigitInfo || digitInfo || '1.0-2',\r\n\t\t\t\t\tlessThanHint\r\n\t\t\t\t)}%</span>`;\r\n\t\t\t}\r\n\t\t\tl += '</div>';\r\n\t\t\treturn l;\r\n\t\t};\r\n\r\n\t\tlet str = '<div style=\"max-width: 35vw; white-space:normal\">';\r\n\t\tif (Array.isArray(param)) {\r\n\t\t\tstr += `<strong>${param[0].name}</strong><br/>`;\r\n\t\t\tstr += `${param.map((p) => formatParam(p)).join('')}`;\r\n\t\t} else {\r\n\t\t\tstr += `<strong>${param.name}</strong><br/>`;\r\n\t\t\tstr += `${formatParam(param)}`;\r\n\t\t}\r\n\t\treturn str + '</div>';\r\n\t}\r\n\r\n\tprivate _generateLegendOptions(multiSeries: boolean, pieLike: boolean): any {\r\n\t\tconst l = this.legend || 'auto';\r\n\t\tif ((l === 'auto' && (multiSeries || pieLike)) || typeof this.legend === 'string') {\r\n\t\t\tconst legend: any = {};\r\n\t\t\tif (l === 'auto' && pieLike) {\r\n\t\t\t\tlegend.x = 'left';\r\n\t\t\t}\r\n\t\t\tif (['left', 'right', 'top', 'bottom'].indexOf(l as string) >= 0) {\r\n\t\t\t\tlegend.x = l;\r\n\t\t\t}\r\n\t\t\tif (legend.x === 'left' || legend.x === 'right') {\r\n\t\t\t\tlegend.orient = 'vertical';\r\n\t\t\t}\r\n\t\t\treturn legend;\r\n\t\t} else if (typeof this.legend === 'object') {\r\n\t\t\treturn this.legend;\r\n\t\t}\r\n\t}\r\n}\r\n","import { NgModule, InjectionToken, Inject, Optional } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ChartComponent } from './chart.component';\r\nimport { replaceDefaultColors } from './color.helpers';\r\nimport { EChartComponent } from './echart.component';\r\n\r\nexport const CHART_DEFAULT_COLORS: InjectionToken<number[][]> = new InjectionToken<number[][]>(\r\n\t'ezy-chart-default-colours'\r\n);\r\n\r\n@NgModule({\r\n\tdeclarations: [ChartComponent, EChartComponent],\r\n\timports: [CommonModule],\r\n\texports: [ChartComponent, EChartComponent]\r\n})\r\nexport class ChartsModule {\r\n\tconstructor(\r\n\t\t@Optional()\r\n\t\t@Inject(CHART_DEFAULT_COLORS)\r\n\t\tdefaultColors: number[][]\r\n\t) {\r\n\t\tif (defaultColors) {\r\n\t\t\treplaceDefaultColors(defaultColors);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport { ChartComponent, EChartComponent };\r\n","/*\r\n * Public API Surface of ezy-chart\r\n */\r\n\r\nexport * from './lib/charts.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}