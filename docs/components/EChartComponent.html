<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ezy-chart documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">ezy-chart documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>EChartComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>projects/ezy-chart/src/lib/echart.component.ts</code>
</p>


    <p class="comment">
        <h3>Extends</h3>
    </p>
    <p class="comment">
                <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
    </p>



<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>

            <tr>
                <td class="col-md-3">changeDetection</td>
                <td class="col-md-9"><code>ChangeDetectionStrategy.OnPush</code></td>
            </tr>

            <tr>
                <td class="col-md-3">encapsulation</td>
                <td class="col-md-9"><code>ViewEncapsulation.None</code></td>
            </tr>









            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>ezy-echart</code></td>
            </tr>


            <tr>
                <td class="col-md-3">styles</td>
                <td class="col-md-9"><code>
			.ezy-echart-series-indicator {
				display: inline-block;
				border-radius: 10px;
				border-width: 1px;
				border-style: solid;
				border-color: white;
				width: 10px;
				height: 10px;
			}
			.ezy-echart-tooltip-item {
				text-indent: -13px;
				padding-left: 13px;
			}
		</code></td>
            </tr>

            <tr>
                <td class="col-md-3">template</td>
                <td class="col-md-9"><pre class="line-numbers"><code class="language-html">&lt;div #chartContainer&gt;&lt;/div&gt;
	</code></pre></td>
            </tr>









        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#isParamChanged">isParamChanged</a>
                            </li>
                            <li>
                                <a href="#resetParamsChangeState">resetParamsChangeState</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#colors">colors</a>
                            </li>
                            <li>
                                <a href="#colorsFor">colorsFor</a>
                            </li>
                            <li>
                                <a href="#currency">currency</a>
                            </li>
                            <li>
                                <a href="#datasets">datasets</a>
                            </li>
                            <li>
                                <a href="#digits">digits</a>
                            </li>
                            <li>
                                <a href="#labels">labels</a>
                            </li>
                            <li>
                                <a href="#legend">legend</a>
                            </li>
                            <li>
                                <a href="#options">options</a>
                            </li>
                            <li>
                                <a href="#percentage">percentage</a>
                            </li>
                            <li>
                                <a href="#ratio">ratio</a>
                            </li>
                            <li>
                                <a href="#timeFormat">timeFormat</a>
                            </li>
                            <li>
                                <a href="#type">type</a>
                            </li>
                        </ul>
                    </td>
                </tr>




        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(zone: <a href="https://angular.io/api/core/NgZone" target="_blank">NgZone</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="49" class="link-to-prism">projects/ezy-chart/src/lib/echart.component.ts:49</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>zone</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/core/NgZone" target="_blank" >NgZone</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section>
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="colors"></a>
                        <b>colors</b>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/BaseChart.html#source" target="_self" >BaseChart:116</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>An array of strings in hex, rgb, or rgba format, to define the base colors of datasets, or the data points of each dataset. If this
property is absent, or the colors defined are less than the number of datasets (or the data points of each dataset), the missing
colors will be assigned from the default palette</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="colorsFor"></a>
                        <b>colorsFor</b>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/BaseChart.html#source" target="_self" >BaseChart:134</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Specify what the colors (either defined or generated) are for.</p>
<ul>
<li>&#39;series&#39; - each color corresponds to a dataset</li>
<li>&#39;data&#39; - each color corresponds to a data point of each dataset</li>
<li>&#39;auto&#39; - use &#39;series&#39; for chart types &#39;bar&#39;, &#39;horizontalBar&#39; and &#39;line&#39;; and use &#39;data&#39; for other chart types</li>
<li>&#39;none&#39; - turn off the color generator. Use this value if colors are specified via #options</li>
</ul>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="currency"></a>
                        <b>currency</b>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/BaseChart.html#source" target="_self" >BaseChart:180</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>An ISO 4217 currency code. If specified, it will be used to format the scales of the main axis, as well as the values in the tooltips.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="datasets"></a>
                        <b>datasets</b>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/BaseChart.html#source" target="_self" >BaseChart:101</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>An array of Chart.ChartDataSets, corresponding to Chart.ChartConfiguration.data.datasets</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="digits"></a>
                        <b>digits</b>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/BaseChart.html#source" target="_self" >BaseChart:194</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The digit info of the output template, used to format numbers in scales. Please refer to <a href="https://angular.io/api/common/DecimalPipe">https://angular.io/api/common/DecimalPipe</a>
for its usage.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="labels"></a>
                        <b>labels</b>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/BaseChart.html#source" target="_self" >BaseChart:74</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>An array of strings, corresponding to Chart.ChartConfiguration.data.labels</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="legend"></a>
                        <b>legend</b>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/BaseChart.html#source" target="_self" >BaseChart:167</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Specifiy how to display the legend</p>
<ul>
<li>if the value is a boolean, it corresponds to Chart.ChartConfiguration.options.legend.display</li>
<li>if the value is &#39;auto&#39;, the legend will be arranged automatically. For example, the legend will be hidden if the chart area is
too small</li>
<li>if the value is of type Chart.ChartLegendOptions, it corresponds to Chart.ChartConfiguration.options.legend.position</li>
<li>if the value is of type Chart.ChartLegendOptions, it corresponds to Chart.ChartConfiguration.options.legend</li>
</ul>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="options"></a>
                        <b>options</b>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/BaseChart.html#source" target="_self" >BaseChart:207</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Corresponds to Chart.ChartConfiguration.options. This overrides any other settings.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="percentage"></a>
                        <b>percentage</b>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/BaseChart.html#source" target="_self" >BaseChart:234</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Specify whether to show the overall percentage values in the popover tooltips.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="ratio"></a>
                        <b>ratio</b>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/BaseChart.html#source" target="_self" >BaseChart:148</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The aspect ratio of the chart</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="timeFormat"></a>
                        <b>timeFormat</b>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/BaseChart.html#source" target="_self" >BaseChart:221</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>A moment.js format string. When specified, the X axis will be configured with time scales, and this value will be used to format the
tooltips.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="type"></a>
                        <b>type</b>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4" colspan="2">
                                    <div class="io-line">Inherited from         <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in         <code><a href="../classes/BaseChart.html#source" target="_self" >BaseChart:88</a></code>
</div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The chart type, corresponding to Chart.ChartConfiguration.type</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>



    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isParamChanged"></a>
                    <span class="name">
                        <b>
                            isParamChanged
                        </b>
                        <a href="#isParamChanged"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isParamChanged(property: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/BaseChart.html#source" target="_self" >BaseChart:246</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>property</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resetParamsChangeState"></a>
                    <span class="name">
                        <b>
                            resetParamsChangeState
                        </b>
                        <a href="#resetParamsChangeState"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resetParamsChangeState()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/BaseChart.html" target="_self" >BaseChart</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/BaseChart.html#source" target="_self" >BaseChart:250</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { BaseChart, formatScale, formatMoney, ShowPercentageType } from &#x27;./base.chart&#x27;;

import { Component, ChangeDetectionStrategy, NgZone, ViewChild, ElementRef, ViewEncapsulation } from &#x27;@angular/core&#x27;;
import { generateColorsAsStrings } from &#x27;./color.helpers&#x27;;
import { DecimalPipe } from &#x27;@angular/common&#x27;;
import cloneDeep from &#x27;lodash/cloneDeep&#x27;;
import isArray from &#x27;lodash/isArray&#x27;;
import merge from &#x27;lodash/merge&#x27;;
import moment from &#x27;moment&#x27;;

@Component({
	selector: &#x27;ezy-echart&#x27;,
	template: &#x60;
		&lt;div #chartContainer&gt;&lt;/div&gt;
	&#x60;,
	changeDetection: ChangeDetectionStrategy.OnPush,
	encapsulation: ViewEncapsulation.None,
	styles: [
		&#x60;
			.ezy-echart-series-indicator {
				display: inline-block;
				border-radius: 10px;
				border-width: 1px;
				border-style: solid;
				border-color: white;
				width: 10px;
				height: 10px;
			}
			.ezy-echart-tooltip-item {
				text-indent: -13px;
				padding-left: 13px;
			}
		&#x60;
	]
})
export class EChartComponent extends BaseChart {
	@ViewChild(&#x27;chartContainer&#x27;, { read: ElementRef, static: true })
	private _chartContainer: ElementRef;

	private _chart: echarts.ECharts;
	private _echartsOptions: echarts.EChartOption &#x3D; {};

	private _typeMap &#x3D; {
		bar: &#x27;bar&#x27;,
		horizontalBar: &#x27;bar&#x27;,
		doughnut: &#x27;pie&#x27;,
		pie: &#x27;pie&#x27;,
		line: &#x27;line&#x27;
	};

	constructor(zone: NgZone) {
		super(zone);
	}

	protected async _checkUpdate(resized: boolean) {
		if (this._chartContainer &amp;&amp; !this._chart) {
			this._createChart();
		} else if (resized &amp;&amp; !this.paramsChanged) {
			this._recalculateSize();
		}

		if (this.paramsChanged) {
			this._applyOptions();
			this.resetParamsChangeState();
			this._recalculateSize();
		}
	}

	protected _onDestroy() {
		if (this._chart &amp;&amp; !this._chart.isDisposed()) {
			this._chart.dispose();
		}
	}

	private _recalculateSize() {
		if (this._chartContainer) {
			const div: HTMLDivElement &#x3D; this._chartContainer.nativeElement;
			const height &#x3D; Math.max(div.clientWidth / (this.ratio || 2), 240);
			div.style.height &#x3D; &#x60;${height}px&#x60;;
			if (this._chart) {
				this._chart.resize();
				if (this._echartsOptions.legend) {
					const opt: any &#x3D; this._chart.getOption();
					if (div.clientWidth &lt;&#x3D; 240 || div.clientHeight &lt;&#x3D; 240) {
						opt.legend &#x3D; undefined;
					} else {
						opt.legend &#x3D; cloneDeep(this._echartsOptions.legend);
					}
					this._chart.setOption(opt, true);
				}
			}
		}
	}

	private _createChart() {
		this._chart &#x3D; echarts.init(this._chartContainer.nativeElement);
	}

	private _applyOptions() {
		const ds &#x3D; this.datasets || [];
		this._echartsOptions &#x3D; {};
		const mainType &#x3D; this.type || &#x27;bar&#x27;;
		const series: any[] &#x3D; ds.map(v &#x3D;&gt; ({
			name: v.name || typeof v.label &#x3D;&#x3D;&#x3D; &#x27;string&#x27; ? v.label : &#x27;&#x27;,
			type: this._typeMap[v.type || mainType] || v.type || mainType,
			data: (v.data || ([] as any[])).map(d &#x3D;&gt; this._mapDataItem(d, this.timeFormat))
		}));
		const isTime &#x3D; series.some(s &#x3D;&gt; s.data.some(d &#x3D;&gt; d.name &amp;&amp; moment(d.name).isValid()));
		const labels &#x3D; this.labels || [];
		const timeAxis &#x3D; [
			{
				type: &#x27;time&#x27;
			}
		];
		const catAxis: Array&lt;echarts.EChartOption.XAxis | echarts.EChartOption.YAxis&gt; &#x3D; [
			{ data: labels, type: &#x27;category&#x27; }
		];
		const valAxis: Array&lt;echarts.EChartOption.XAxis | echarts.EChartOption.YAxis&gt; &#x3D; [{ type: &#x27;value&#x27; }];
		const tooltip: any &#x3D; {
			axisPointer: {
				type: &#x27;shadow&#x27;
			}
		};
		tooltip.formatter &#x3D; this._formatTooltip.bind(this, this.currency, this.percentage, this.digits);
		if (this.currency) {
			valAxis[0].axisLabel &#x3D; { formatter: value &#x3D;&gt; formatScale(value, this.currency) };
		}
		this._echartsOptions &#x3D; {
			series,
			tooltip
		};

		if (mainType &#x3D;&#x3D;&#x3D; &#x27;horizontalBar&#x27;) {
			this._echartsOptions.yAxis &#x3D; catAxis as echarts.EChartOption.YAxis[];
			this._echartsOptions.xAxis &#x3D; valAxis as echarts.EChartOption.XAxis[];
			this._echartsOptions.tooltip[&#x27;trigger&#x27;] &#x3D; &#x27;axis&#x27;;
		} else if (mainType &#x3D;&#x3D;&#x3D; &#x27;line&#x27; || mainType &#x3D;&#x3D;&#x3D; &#x27;bar&#x27;) {
			this._echartsOptions.xAxis &#x3D; (isTime ? timeAxis : catAxis) as echarts.EChartOption.XAxis[];
			this._echartsOptions.yAxis &#x3D; valAxis as echarts.EChartOption.YAxis[];
			this._echartsOptions.tooltip[&#x27;trigger&#x27;] &#x3D; &#x27;axis&#x27;;
		} else if (this._typeMap[mainType] &#x3D;&#x3D;&#x3D; &#x27;pie&#x27;) {
			this._definePieShape(series, labels, mainType &#x3D;&#x3D;&#x3D; &#x27;doughnut&#x27;);
		}

		if (this.legend !&#x3D;&#x3D; false) {
			this._echartsOptions.legend &#x3D; this._generateLegendOptions(series.length &gt; 1, this._typeMap[mainType] &#x3D;&#x3D;&#x3D; &#x27;pie&#x27;);
		}

		this._defineColors(series, this._typeMap[mainType] &#x3D;&#x3D;&#x3D; &#x27;pie&#x27;);

		let opt &#x3D; cloneDeep(this._echartsOptions);
		opt &#x3D; merge(opt, this.options);

		this._chart.setOption(opt, true);
	}

	private _mapDataItem(item: any, timeFormat: string): any {
		if (typeof item &#x3D;&#x3D;&#x3D; &#x27;number&#x27;) {
			return { value: item };
		}
		if (!item) {
			return undefined;
		}
		if (item.x &amp;&amp; moment(item.x).isValid() &amp;&amp; typeof item.y &#x3D;&#x3D;&#x3D; &#x27;number&#x27;) {
			const m &#x3D; moment(item.x);
			return {
				name: moment(item.x).format(timeFormat || &#x27;L&#x27;),
				value: [&#x60;${m.get(&#x27;year&#x27;)}-${m.get(&#x27;month&#x27;)}-${m.get(&#x27;day&#x27;)}&#x60;, item.y]
			};
		}
		return item;
	}

	private _definePieShape(series: any[], labels: string[], makeDoughnut: boolean) {
		let r &#x3D; 0;
		let step &#x3D; 80;
		if (makeDoughnut) {
			r &#x3D; 40;
		}
		step &#x3D; (80 - r) / series.length;
		series.forEach(s &#x3D;&gt; {
			s.data.forEach((d, i) &#x3D;&gt; (d.name &#x3D; labels[i]));
			s.radius &#x3D; [&#x60;${r}%&#x60;, &#x60;${r + step - 1}%&#x60;];
			r &#x3D; r + step;
			s.label &#x3D; {
				normal: {
					show: false,
					position: &#x27;center&#x27;
				},
				emphasis: {
					show: makeDoughnut ? true : false,
					textShadowColor: &#x27;grey&#x27;,
					textShadowOffsetY: 1
				}
			};
			s[&#x27;avoidLabelOverlap&#x27;] &#x3D; false;
		});
	}

	private _defineColors(series: any[], pieLike: boolean) {
		let cf &#x3D; this.colorsFor || &#x27;auto&#x27;;
		if (cf &#x3D;&#x3D;&#x3D; &#x27;auto&#x27;) {
			if (pieLike) {
				cf &#x3D; &#x27;data&#x27;;
			} else {
				cf &#x3D; &#x27;series&#x27;;
			}
		}
		if (cf &#x3D;&#x3D;&#x3D; &#x27;series&#x27;) {
			const colors &#x3D; generateColorsAsStrings(this.colors || [], series.length);
			series.forEach((s, i) &#x3D;&gt; (s[&#x27;color&#x27;] &#x3D; colors[i]));
		} else if (cf &#x3D;&#x3D;&#x3D; &#x27;data&#x27;) {
			series.forEach(s &#x3D;&gt; {
				const colors &#x3D; generateColorsAsStrings(this.colors || [], s.data.length);
				s.data.forEach((d, i) &#x3D;&gt; (d.itemStyle &#x3D; { color: colors[i] }));
			});
		}
	}

	private _formatTooltip(currencyCode: string, percent: ShowPercentageType, digitInfo: string, param: any) {
		const formatParam &#x3D; p &#x3D;&gt; {
			let l &#x3D; &#x60;&lt;div class&#x3D;&quot;ezy-echart-tooltip-item&quot;&gt;&lt;span class&#x3D;&quot;ezy-echart-series-indicator&quot; style&#x3D;&quot;background-color: ${
				p.color
			}&quot;&gt;&lt;/span&gt;
			 ${p.seriesName}: &#x60;;
			const percentOnly: boolean &#x3D; percent &#x3D;&#x3D;&#x3D; &#x27;only&#x27; &amp;&amp; p.percent;
			const showPercent: boolean &#x3D; percent &amp;&amp; p.percent;
			const v &#x3D; isArray(p.data.value) ? p.data.value[1] : p.data.value;

			if (!percentOnly) {
				if (currencyCode) {
					l +&#x3D; formatMoney(v, currencyCode, digitInfo);
				} else {
					l +&#x3D; new DecimalPipe(moment.locale()).transform(v, digitInfo);
				}
			}

			if (showPercent) {
				l +&#x3D; &#x60;&lt;span&gt; ${p.percent}%&lt;/span&gt;&#x60;;
			}
			l +&#x3D; &#x27;&lt;/div&gt;&#x27;;
			return l;
		};

		let str &#x3D; &#x27;&lt;div style&#x3D;&quot;max-width: 35vw; white-space:normal&quot;&gt;&#x27;;
		if (isArray(param)) {
			str +&#x3D; &#x60;&lt;strong&gt;${param[0].name}&lt;/strong&gt;&lt;br/&gt;&#x60;;
			str +&#x3D; &#x60;${param.map(p &#x3D;&gt; formatParam(p)).join(&#x27;&#x27;)}&#x60;;
		} else {
			str +&#x3D; &#x60;&lt;strong&gt;${param.name}&lt;/strong&gt;&lt;br/&gt;&#x60;;
			str +&#x3D; &#x60;${formatParam(param)}&#x60;;
		}
		return str + &#x27;&lt;/div&gt;&#x27;;
	}

	private _generateLegendOptions(multiSeries: boolean, pieLike: boolean): any {
		const l &#x3D; this.legend || &#x27;auto&#x27;;
		if ((l &#x3D;&#x3D;&#x3D; &#x27;auto&#x27; &amp;&amp; (multiSeries || pieLike)) || typeof this.legend &#x3D;&#x3D;&#x3D; &#x27;string&#x27;) {
			const legend: any &#x3D; {};
			if (l &#x3D;&#x3D;&#x3D; &#x27;auto&#x27; &amp;&amp; pieLike) {
				legend.x &#x3D; &#x27;left&#x27;;
			}
			if ([&#x27;left&#x27;, &#x27;right&#x27;, &#x27;top&#x27;, &#x27;bottom&#x27;].indexOf(l as string) &gt;&#x3D; 0) {
				legend.x &#x3D; l;
			}
			if (legend.x &#x3D;&#x3D;&#x3D; &#x27;left&#x27; || legend.x &#x3D;&#x3D;&#x3D; &#x27;right&#x27;) {
				legend.orient &#x3D; &#x27;vertical&#x27;;
			}
			return legend;
		} else if (typeof this.legend &#x3D;&#x3D;&#x3D; &#x27;object&#x27;) {
			return this.legend;
		}
	}
}
</code></pre>
    </div>


    <div class="tab-pane fade " id="c-styleData">
            <pre class="line-numbers"><code class="language-scss">
			.ezy-echart-series-indicator {
				display: inline-block;
				border-radius: 10px;
				border-width: 1px;
				border-style: solid;
				border-color: white;
				width: 10px;
				height: 10px;
			}
			.ezy-echart-tooltip-item {
				text-indent: -13px;
				padding-left: 13px;
			}
		
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div #chartContainer></div>	</div>'
    var COMPONENTS = [{'name': 'ChartComponent', 'selector': 'ezy-chart'},{'name': 'EChartComponent', 'selector': 'ezy-echart'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'EChartComponent'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'EChartComponent.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
